{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{137:function(t,a,s){\"use strict\";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"div\",{staticClass:\"content\"},[s(\"h1\",{attrs:{id:\"buildmail\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#buildmail\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" buildmail\")]),s(\"p\",[t._v(\"Low level rfc2822 message composer that streams output. Define your own mime tree, no magic included.\")]),s(\"p\",[t._v(\"Ported from \"),s(\"a\",{attrs:{href:\"https://github.com/whiteout-io/mailbuild\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"MailBuild\")]),t._v(\" of the \"),s(\"a\",{attrs:{href:\"http://emailjs.org/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"emailjs.org\")]),t._v(\" project. This port uses similar API but is for Node only and streams the output.\")]),s(\"p\",[s(\"a\",{attrs:{href:\"http://travis-ci.org/nodemailer/buildmail\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://secure.travis-ci.org/nodemailer/buildmail.svg\",alt:\"Build Status\"}})]),s(\"a\",{attrs:{href:\"http://badge.fury.io/js/buildmail\"}},[s(\"img\",{attrs:{src:\"https://badge.fury.io/js/buildmail.svg\",alt:\"NPM version\",height:\"18\"}})])]),s(\"h2\",{attrs:{id:\"usage\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#usage\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Usage\")]),s(\"p\",[t._v(\"Install with npm\")]),s(\"pre\",[s(\"code\",[t._v(\"npm install buildmail\\n\")])]),s(\"p\",[t._v(\"Require in your scripts\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" BuildMail \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'buildmail'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"api\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#api\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" API\")]),s(\"p\",[t._v(\"Create a new \"),s(\"code\",[t._v(\"BuildMail\")]),t._v(\" object with\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" builder \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"contentType \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" options\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"contentType\")]),t._v(\" - define the content type for created node. Can be left blank for attachments (content type derived from \"),s(\"code\",[t._v(\"filename\")]),t._v(\" option if available)\")]),s(\"li\",[s(\"strong\",[t._v(\"options\")]),t._v(\" - an optional options object\\n\"),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"filename\")]),t._v(\" - \"),s(\"em\",[t._v(\"String\")]),t._v(\" filename for an attachment node\")]),s(\"li\",[s(\"strong\",[t._v(\"baseBoundary\")]),t._v(\" - \"),s(\"em\",[t._v(\"String\")]),t._v(\" shared part of the unique multipart boundary (generated randomly if not set)\")]),s(\"li\",[s(\"strong\",[t._v(\"keepBcc\")]),t._v(\" - \"),s(\"em\",[t._v(\"Boolean\")]),t._v(\" If true keep the Bcc value in generated headers (default is to remove it)\")]),s(\"li\",[s(\"strong\",[t._v(\"textEncoding\")]),t._v(\" - set default content encoding, either 'base64' or 'quoted-printable'\")]),s(\"li\",[s(\"strong\",[t._v(\"hostname\")]),t._v(\" - optional hostname for default Message-Id values. Normally hostname from the \"),s(\"code\",[t._v(\"from\")]),t._v(\" address is used but this might not be available\")]),s(\"li\",[s(\"strong\",[t._v(\"disableUrlAccess\")]),t._v(\" - if set to true then fails with an error when a node tries to load content from URL\")]),s(\"li\",[s(\"strong\",[t._v(\"disableFileAccess\")]),t._v(\" - if set to true then fails with an error when a node tries to load content from a file\")])])])]),s(\"h2\",{attrs:{id:\"methods\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#methods\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Methods\")]),s(\"p\",[t._v(\"The same methods apply to the root node created with \"),s(\"code\",[t._v(\"new BuildMail()\")]),t._v(\" and to any child nodes.\")]),s(\"h3\",{attrs:{id:\"createchild\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#createchild\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" createChild\")]),s(\"p\",[t._v(\"Creates and appends a child node to the node object\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createChild\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"contentType\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" options\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"The same arguments apply as with \"),s(\"code\",[t._v(\"new BuildMail()\")]),t._v(\". Created node object is returned.\")]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'multipart/mixed'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createChild\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'multipart/related'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createChild\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Generates the following mime tree:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"multipart/mixed\\n  â†³ multipart/related\\n      â†³ text/plain\\n\")])]),s(\"h3\",{attrs:{id:\"appendchild\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#appendchild\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" appendChild\")]),s(\"p\",[t._v(\"Appends an existing child node to the node object. Removes the node from an existing tree if needed.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"appendChild\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"childNode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"childNode\")]),t._v(\" - child node to be appended\")])]),s(\"p\",[t._v(\"Method returns appended child node.\")]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" childNode \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    rootNode \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'multipart/mixed'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nrootnode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"appendChild\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"childNode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Generates the following mime tree:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"multipart/mixed\\n  â†³ text/plain\\n\")])]),s(\"h2\",{attrs:{id:\"replace\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#replace\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" replace\")]),s(\"p\",[t._v(\"Replaces current node with another node\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"replace\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"replacementNode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"replacementNode\")]),t._v(\" - node to replace the current node with\")])]),s(\"p\",[t._v(\"Method returns replacement node.\")]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" rootNode \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'multipart/mixed'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    childNode \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" rootNode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createChild\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nchildNode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"replace\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/html'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Generates the following mime tree:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"multipart/mixed\\n  â†³ text/html\\n\")])]),s(\"h2\",{attrs:{id:\"remove\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#remove\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" remove\")]),s(\"p\",[t._v(\"Removes current node from the mime tree. Does not make a lot of sense for a root node.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"remove\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Method returns removed node.\")]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" rootNode \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'multipart/mixed'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    childNode \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" rootNode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createChild\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nchildNode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"remove\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Generates the following mime tree:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"multipart/mixed\\n\")])]),s(\"h2\",{attrs:{id:\"setheader\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#setheader\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" setHeader\")]),s(\"p\",[t._v(\"Sets a header value. If the value for selected key exists, it is overwritten.\")]),s(\"p\",[t._v(\"You can set multiple values as well by using \"),s(\"code\",[t._v(\"[{key:'', value:''}]\")]),t._v(\" or\\n\"),s(\"code\",[t._v(\"{key: 'value'}\")]),t._v(\" structures as the first argument.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"key\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" value\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"key\")]),t._v(\" - \"),s(\"em\",[t._v(\"String|Array|Object\")]),t._v(\" Header key or a list of key value pairs\")]),s(\"li\",[s(\"strong\",[t._v(\"value\")]),t._v(\" - \"),s(\"em\",[t._v(\"String\")]),t._v(\" Header value\")])]),s(\"p\",[t._v(\"Method returns current node.\")]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-disposition'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'inline'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-transfer-encoding'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'7bit'\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"key\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'message-id'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" value\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'abcde'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Generates the following header:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"Content-type: text/plain\\nContent-Disposition: inline\\nContent-Transfer-Encoding: 7bit\\nMessage-Id: <abcde>\\n\")])]),s(\"h2\",{attrs:{id:\"addheader\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#addheader\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" addHeader\")]),s(\"p\",[t._v(\"Adds a header value. If the value for selected key exists, the value is appended\\nas a new field and old one is not touched.\")]),s(\"p\",[t._v(\"You can set multiple values as well by using \"),s(\"code\",[t._v(\"[{key:'', value:''}]\")]),t._v(\" or\\n\"),s(\"code\",[t._v(\"{key: 'value'}\")]),t._v(\" structures as the first argument.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"key\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" value\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"key\")]),t._v(\" - \"),s(\"em\",[t._v(\"String|Array|Object\")]),t._v(\" Header key or a list of key value pairs\")]),s(\"li\",[s(\"strong\",[t._v(\"value\")]),t._v(\" - \"),s(\"em\",[t._v(\"String\")]),t._v(\" Header value or an array of strings to add the same key multiple times\")])]),s(\"p\",[t._v(\"Method returns current node.\")]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'X-Spam'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'1'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'x-spam'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'2'\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"key\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'x-spam'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" value\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'3'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Generates the following header:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"Content-type: text/plain\\nX-Spam: 1\\nX-Spam: 2\\nX-Spam: 3\\n\")])]),s(\"h2\",{attrs:{id:\"prepared-headers\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#prepared-headers\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Prepared headers\")]),s(\"p\",[t._v(\"Normally all headers are encoded and folded to meet the requirement of having plain-ASCII messages with lines no longer than 78 bytes. Sometimes it is preferable to not modify header values and pass these as provided. This can be achieved with the \"),s(\"code\",[t._v(\"prepared\")]),t._v(\" option:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'X-Long-Header'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        prepared\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        value\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'a really long header or value with non-ascii characters ðŸ‘®'\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// normal output:\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// X-Long-Header: a really long header or value with non-ascii characters\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//  =?UTF-8?Q?=F0=9F=91=AE?=\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// output with the prepared option:\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// X-Long-Header: a really long header or value with non-ascii characters ðŸ‘®\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"getheader\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#getheader\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" getHeader\")]),s(\"p\",[t._v(\"Retrieves the first mathcing value of a selected key\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"key\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"key\")]),t._v(\" - \"),s(\"em\",[t._v(\"String\")]),t._v(\" Key to search for\")])]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'content-type'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// text/plain\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"buildheaders\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#buildheaders\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" buildHeaders\")]),s(\"p\",[t._v(\"Builds the current header info into a header block that can be used in an e-mail\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" headers \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"buildHeaders\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'X-Spam'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'1'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'x-spam'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'2'\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"key\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'x-spam'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" value\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'3'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"buildHeaders\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"returns the following String\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"Content-Type: text/plain\\nX-Spam: 3\\nDate: Sat, 21 Jun 2014 10:52:44 +0000\\nMessage-Id: <1403347964894-790a5296-0eb7c7c7-6440334f@localhost>\\nMIME-Version: 1.0\\n\")])]),s(\"p\",[t._v(\"If the node is the root node, then \"),s(\"code\",[t._v(\"Date\")]),t._v(\" and \"),s(\"code\",[t._v(\"Message-Id\")]),t._v(\" values are generated automatically if missing\")]),s(\"h2\",{attrs:{id:\"setcontent\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#setcontent\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" setContent\")]),s(\"p\",[t._v(\"Sets body content for current node. If the value is a string and Content-Type is text/* then charset is set automatically.\\nIf the value is a Buffer or a Stream you need to specify the charset yourself.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setContent\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"body\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"body\")]),t._v(\" - \"),s(\"em\",[t._v(\"String|Buffer|Stream|Object\")]),t._v(\" body content\")])]),s(\"p\",[t._v(\"If the value is an object, it should include one of the following properties\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"path\")]),t._v(\" - path to a file that will be used as the content\")]),s(\"li\",[s(\"strong\",[t._v(\"href\")]),t._v(\" - URL that will be used as the content\")])]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setContent\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Hello world!'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain; charset=utf-8'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setContent\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'message.txt'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"setraw\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#setraw\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" setRaw\")]),s(\"p\",[t._v(\"Sets pre-generated output value for current node. When building the final message\\nthen this value is returned instead of building a fresh rfc822 mime message from\\nnormal input.\")]),s(\"p\",[t._v(\"This also means that other methods (\"),s(\"code\",[t._v(\"getAddresses\")]),t._v(\", \"),s(\"code\",[t._v(\"getEnvelope\")]),t._v(\" etc.) that use normal\\ninput do not return valid values as the raw message is not parsed. You must set\\nenvelope contents manually with \"),s(\"code\",[t._v(\"setEnvelope\")]),t._v(\" and you probably should set the\\n\"),s(\"em\",[t._v(\"Message-Id\")]),t._v(\" header (even though it wouldn't break anything if you would not set it).\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setRaw\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"message\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"message\")]),t._v(\" - \"),s(\"em\",[t._v(\"String|Buffer|Stream|Object\")]),t._v(\" MIME message\")])]),s(\"p\",[t._v(\"If the value is an object, it should include one of the following properties\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"path\")]),t._v(\" - path to a file that will be used as the content\")]),s(\"li\",[s(\"strong\",[t._v(\"href\")]),t._v(\" - URL that will be used as the content\")])]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setRaw\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'message.eml'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"build\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#build\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" build\")]),s(\"p\",[t._v(\"Builds the rfc2822 message from the current node. If this is a root node, mandatory header fields are set if missing (Date, Message-Id, MIME-Version)\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"build\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"callback\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Callback returns the rfc2822 message as a Buffer\")]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'text/plain'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setContent\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Hello world!'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"build\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" mail\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    console\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"mail\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"toString\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ascii'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Returns the following string:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"Content-type: text/plain\\nDate: <current datetime>\\nMessage-Id: <generated value>\\nMIME-Version: 1.0\\n\\nHello world!\\n\")])]),s(\"h2\",{attrs:{id:\"createreadstream\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#createreadstream\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" createReadStream\")]),s(\"p\",[t._v(\"If you manage large attachments you probably do not want to generate but stream the message.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" stream \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"options\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"options\")]),t._v(\" - \"),s(\"em\",[t._v(\"Object\")]),t._v(\" optional Stream options (ie. \"),s(\"code\",[t._v(\"highWaterMark\")]),t._v(\")\")])]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" message \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nmessage\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"from\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'From <from@example.com>'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    to\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'receiver1@example.com'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    cc\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'receiver2@example.com'\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nmessage\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setContent\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'message.txt'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nmessage\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createWriteStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'message.eml'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"transform\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#transform\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" transform\")]),s(\"p\",[t._v(\"If you want to modify the created stream, you can add transform streams that the output will be piped through.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"transform\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"transformStream\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"transformStream\")]),t._v(\" - \"),s(\"em\",[t._v(\"Stream\")]),t._v(\" or \"),s(\"em\",[t._v(\"Function\")]),t._v(\" Transform stream that the output will go through before returing with \"),s(\"code\",[t._v(\"createReadStream\")]),t._v(\". If the value is a function the function should return a transform stream object when called.\")])]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" PassThrough \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'stream'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"PassThrough\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" message \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nmessage\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"from\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'From <from@example.com>'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    to\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'receiver1@example.com'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    cc\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'receiver2@example.com'\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nmessage\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setContent\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'message.txt'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nmessage\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"transform\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"PassThrough\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// add a stream that the output will be piped through\")]),t._v(\"\\nmessage\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createWriteStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'message.eml'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"setenvelope\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#setenvelope\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" setEnvelope\")]),s(\"p\",[t._v(\"Set envelope object to use. If one is not set, it is generated based ong the headers.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setEnvelope\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"envelope\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Where\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"envelope\")]),t._v(\" is an envelope object in the form of \"),s(\"code\",[t._v(\"{from:'address', to: ['addresses']}\")])])]),s(\"h2\",{attrs:{id:\"getenvelope\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#getenvelope\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" getEnvelope\")]),s(\"p\",[t._v(\"Generates a SMTP envelope object. Makes sense only for root node.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" envelope \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"generateEnvelope\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Method returns the envelope in the form of \"),s(\"code\",[t._v(\"{from:'address', to: ['addresses']}\")])]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"from\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'From <from@example.com>'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        to\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'receiver1@example.com'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        cc\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'receiver2@example.com'\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getEnvelope\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Returns the following object:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"from\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'from@example.com'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    to\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'receiver1@example.com'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'receiver2@example.com'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"messageid\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#messageid\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" messageId\")]),s(\"p\",[t._v(\"Returns Message-Id value. If it does not exist then generates one.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" messageId \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" node\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"messageId\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Method returns the Message-Id value \"),s(\"code\",[t._v(\"<unique-message-id@example.com\")])]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"from\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'From <from@example.com>'\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"messageId\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Returns the following value:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"<1453237212620-0657660b-8df9255d-18bcdcb5@example.com>\"')]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"getaddresses\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#getaddresses\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" getAddresses\")]),s(\"p\",[t._v(\"Returns an address container object. Includes all parsed addresses from From, Sender, To, Cc, Bcc and Reply-To fields.\")]),s(\"p\",[t._v(\"While \"),s(\"code\",[t._v(\"getEnvelope()\")]),t._v(\" returns 'from' value as a single address (the first one encountered) then \"),s(\"code\",[t._v(\"getAddresses\")]),t._v(\" return all values as arrays, including \"),s(\"code\",[t._v(\"from\")]),t._v(\". Additionally while \"),s(\"code\",[t._v(\"getEnvelope\")]),t._v(\" returns only \"),s(\"code\",[t._v(\"from\")]),t._v(\" and a combined \"),s(\"code\",[t._v(\"to\")]),t._v(\" value then \"),s(\"code\",[t._v(\"getAddresses\")]),t._v(\" returns all fields separately.\")]),s(\"p\",[t._v(\"Possbile return values (all arrays in the form of \"),s(\"code\",[t._v(\"[{name:'', address:''}]\")]),t._v(\"):\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"from\")])]),s(\"li\",[s(\"strong\",[t._v(\"sender\")])]),s(\"li\",[s(\"strong\",[t._v(\"'reply-to'\")])]),s(\"li\",[s(\"strong\",[t._v(\"to\")])]),s(\"li\",[s(\"strong\",[t._v(\"cc\")])]),s(\"li\",[s(\"strong\",[t._v(\"bcc\")])])]),s(\"p\",[t._v(\"If no addresses were found for a particular field, the field is not set in the response object.\")]),s(\"p\",[s(\"strong\",[t._v(\"Example\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"from\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'From <from@example.com>'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        to\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'\\\"Receiver\\\" receiver1@example.com'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        cc\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'receiver2@example.com'\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getAddresses\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Returns the following object:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"from\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        name\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'From'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        address\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'from@example.com'\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    to\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        name\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Receiver'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        address\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'receiver1@example.com'\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    cc\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        name\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n        address\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'receiver2@example.com'\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"notes\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#notes\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Notes\")]),s(\"h3\",{attrs:{id:\"addresses\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#addresses\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Addresses\")]),s(\"p\",[t._v(\"When setting address headers (\"),s(\"code\",[t._v(\"From\")]),t._v(\", \"),s(\"code\",[t._v(\"To\")]),t._v(\", \"),s(\"code\",[t._v(\"Cc\")]),t._v(\", \"),s(\"code\",[t._v(\"Bcc\")]),t._v(\") use of unicode is allowed. If needed\\nthe addresses are converted to punycode automatically.\")]),s(\"h3\",{attrs:{id:\"attachments\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#attachments\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Attachments\")]),s(\"p\",[t._v(\"For attachments you should minimally set \"),s(\"code\",[t._v(\"filename\")]),t._v(\" option and \"),s(\"code\",[t._v(\"Content-Disposition\")]),t._v(\" header. If filename is specified, you can leave content type blank - if content type is not set, it is detected from the filename.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"BuildMail\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'multipart/mixed'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createChild\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"filename\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'image.png'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHeader\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Content-Disposition'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'attachment'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Obviously you might want to add \"),s(\"code\",[t._v(\"Content-Id\")]),t._v(\" header as well if you want to reference this attachment from the HTML content.\")]),s(\"h3\",{attrs:{id:\"mime-structure\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#mime-structure\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" MIME structure\")]),s(\"p\",[t._v(\"Most probably you only need to deal with the following multipart types when generating messages:\")]),s(\"ul\",[s(\"li\",[s(\"strong\",[t._v(\"multipart/alternative\")]),t._v(\" - includes the same content in different forms (usually text/plain + text/html)\")]),s(\"li\",[s(\"strong\",[t._v(\"multipart/related\")]),t._v(\" - includes main node and related nodes (eg. text/html + referenced attachments). Also requires a \"),s(\"code\",[t._v(\"type\")]),t._v(\" parameter that indicates the Content-Type of the \"),s(\"em\",[t._v(\"root\")]),t._v(\" element in the node\")]),s(\"li\",[s(\"strong\",[t._v(\"multipart/mixed\")]),t._v(\" - includes other multipart nodes and attachments, or single content node and attachments\")])]),s(\"p\",[s(\"strong\",[t._v(\"Examples\")])]),s(\"p\",[t._v(\"One content node and an attachment\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"multipart/mixed\\n  â†³ text/plain\\n  â†³ image/png\\n\")])]),s(\"p\",[t._v(\"Content node with referenced attachment (eg. image with \"),s(\"code\",[t._v(\"Content-Type\")]),t._v(\" referenced by \"),s(\"code\",[t._v(\"cid:\")]),t._v(\" url in the HTML)\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"multipart/related\\n  â†³ text/html\\n  â†³ image/png\\n\")])]),s(\"p\",[t._v(\"Plaintext and HTML alternatives\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"multipart/alternative\\n  â†³ text/html\\n  â†³ text/plain\\n\")])]),s(\"p\",[t._v(\"One content node with referenced attachment and a regular attachment\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"multipart/mixed\\n  â†³ multipart/related\\n    â†³ text/plain\\n    â†³ image/png\\n  â†³ application/x-zip\\n\")])]),s(\"p\",[t._v(\"Alternative content with referenced attachment for HTML and a regular attachment\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"multipart/mixed\\n  â†³ multipart/alternative\\n    â†³ text/plain\\n    â†³ multipart/related\\n      â†³ text/html\\n      â†³ image/png\\n  â†³ application/x-zip\\n\")])]),s(\"h2\",{attrs:{id:\"license\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#license\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" License\")]),s(\"p\",[s(\"strong\",[t._v(\"MIT\")])])])}],!1,null,null,null);a.default=e.exports}}]);","extractedComments":[]}