{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{245:function(t,a,s){\"use strict\";s.r(a);var e=s(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"div\",{staticClass:\"content\"},[s(\"img\",{attrs:{align:\"right\",alt:\"Ajv logo\",width:\"160\",src:\"http://epoberezkin.github.io/ajv/images/ajv_logo.png\"}}),s(\"h1\",{attrs:{id:\"ajv-another-json-schema-validator\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ajv-another-json-schema-validator\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Ajv: Another JSON Schema Validator\")]),s(\"p\",[t._v(\"The fastest JSON Schema validator for Node.js and browser with draft 6 support.\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://travis-ci.org/epoberezkin/ajv\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://travis-ci.org/epoberezkin/ajv.svg?branch=master\",alt:\"Build Status\"}})]),s(\"a\",{attrs:{href:\"https://www.npmjs.com/package/ajv\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://badge.fury.io/js/ajv.svg\",alt:\"npm version\"}})]),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/tree/beta\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://img.shields.io/npm/v/ajv/beta.svg\",alt:\"npm@beta\"}})]),s(\"a\",{attrs:{href:\"https://www.npmjs.com/package/ajv\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://img.shields.io/npm/dm/ajv.svg\",alt:\"npm downloads\"}})]),s(\"a\",{attrs:{href:\"https://coveralls.io/github/epoberezkin/ajv?branch=master\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://coveralls.io/repos/epoberezkin/ajv/badge.svg?branch=master&service=github\",alt:\"Coverage Status\"}})]),s(\"a\",{attrs:{href:\"https://greenkeeper.io/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://badges.greenkeeper.io/epoberezkin/ajv.svg\",alt:\"Greenkeeper badge\"}})]),s(\"a\",{attrs:{href:\"https://gitter.im/ajv-validator/ajv\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://img.shields.io/gitter/room/ajv-validator/ajv.svg\",alt:\"Gitter\"}})])]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": Ajv \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/tree/beta\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"version 6\")]),t._v(\" with \"),s(\"a\",{attrs:{href:\"http://json-schema.org/work-in-progress\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON Schema draft-07\")]),t._v(\" support is released. Use \"),s(\"code\",[t._v(\"npm install ajv@beta\")]),t._v(\" to install.\")]),s(\"h2\",{attrs:{id:\"using-version-5\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#using-version-5\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Using version 5\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://trac.tools.ietf.org/html/draft-wright-json-schema-validation-01\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON Schema draft-06\")]),t._v(\" is published.\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/releases/tag/5.0.0\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Ajv version 5.0.0\")]),t._v(\" that supports draft-06 is released. It may require either migrating your schemas or updating your code (to continue using draft-04 and v5 schemas).\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": To use Ajv with draft-04 schemas you need to explicitly add meta-schema to the validator instance:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addMetaSchema\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ajv/lib/refs/json-schema-draft-04.json'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"contents\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#contents\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Contents\")]),s(\"ul\",[s(\"li\",[s(\"a\",{attrs:{href:\"#performance\"}},[t._v(\"Performance\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#features\"}},[t._v(\"Features\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#getting-started\"}},[t._v(\"Getting started\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/FAQ.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Frequently Asked Questions\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#using-in-browser\"}},[t._v(\"Using in browser\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#command-line-interface\"}},[t._v(\"Command line interface\")])]),s(\"li\",[t._v(\"Validation\\n\"),s(\"ul\",[s(\"li\",[s(\"a\",{attrs:{href:\"#validation-keywords\"}},[t._v(\"Keywords\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#formats\"}},[t._v(\"Formats\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#ref\"}},[t._v(\"Combining schemas with $ref\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#data-reference\"}},[t._v(\"$data reference\")])]),s(\"li\",[t._v(\"NEW: \"),s(\"a\",{attrs:{href:\"#merge-and-patch-keywords\"}},[t._v(\"$merge and $patch keywords\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#defining-custom-keywords\"}},[t._v(\"Defining custom keywords\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#asynchronous-schema-compilation\"}},[t._v(\"Asynchronous schema compilation\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#asynchronous-validation\"}},[t._v(\"Asynchronous validation\")])])])]),s(\"li\",[t._v(\"Modifying data during validation\\n\"),s(\"ul\",[s(\"li\",[s(\"a\",{attrs:{href:\"#filtering-data\"}},[t._v(\"Filtering data\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#assigning-defaults\"}},[t._v(\"Assigning defaults\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#coercing-data-types\"}},[t._v(\"Coercing data types\")])])])]),s(\"li\",[t._v(\"API\\n\"),s(\"ul\",[s(\"li\",[s(\"a\",{attrs:{href:\"#api\"}},[t._v(\"Methods\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"Options\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#validation-errors\"}},[t._v(\"Validation errors\")])])])]),s(\"li\",[s(\"a\",{attrs:{href:\"#related-packages\"}},[t._v(\"Related packages\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#some-packages-using-ajv\"}},[t._v(\"Packages using Ajv\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#tests\"}},[t._v(\"Tests, Contributing, History, License\")])])]),s(\"h2\",{attrs:{id:\"performance\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#performance\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Performance\")]),s(\"p\",[t._v(\"Ajv generates code using \"),s(\"a\",{attrs:{href:\"https://github.com/olado/doT\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"doT templates\")]),t._v(\" to turn JSON schemas into super-fast validation functions that are efficient for v8 optimization.\")]),s(\"p\",[t._v(\"Currently Ajv is the fastest and the most standard compliant validator according to these benchmarks:\")]),s(\"ul\",[s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/ebdrup/json-schema-benchmark\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"json-schema-benchmark\")]),t._v(\" - 50% faster than the second place\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/pandastrike/jsck#benchmarks\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"jsck benchmark\")]),t._v(\" - 20-190% faster\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://rawgit.com/zaggino/z-schema/master/benchmark/results.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"z-schema benchmark\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"https://cdn.rawgit.com/playlyfe/themis/master/benchmark/results.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"themis benchmark\")])])]),s(\"p\",[t._v(\"Performance of different validators by \"),s(\"a\",{attrs:{href:\"https://github.com/ebdrup/json-schema-benchmark\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"json-schema-benchmark\")]),t._v(\":\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://github.com/ebdrup/json-schema-benchmark/blob/master/README.md#performance\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://chart.googleapis.com/chart?chxt=x,y&cht=bhs&chco=76A4FB&chls=2.0&chbh=32,4,1&chs=600x416&chxl=-1:%7Cdjv%7Cajv%7Cjson-schema-validator-generator%7Cjsen%7Cis-my-json-valid%7Cthemis%7Cz-schema%7Cjsck%7Cskeemas%7Cjson-schema-library%7Ctv4&chd=t:100,98,72.1,66.8,50.1,15.1,6.1,3.8,1.2,0.7,0.2\",alt:\"performance\"}})])]),s(\"h2\",{attrs:{id:\"features\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#features\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Features\")]),s(\"ul\",[s(\"li\",[t._v(\"Ajv implements full JSON Schema \"),s(\"a\",{attrs:{href:\"http://json-schema.org/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"draft 6\")]),t._v(\" and draft 4 standards:\\n\"),s(\"ul\",[s(\"li\",[t._v(\"all validation keywords (see \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON Schema validation keywords\")]),t._v(\")\")]),s(\"li\",[t._v(\"full support of remote refs (remote schemas have to be added with \"),s(\"code\",[t._v(\"addSchema\")]),t._v(\" or compiled to be available)\")]),s(\"li\",[t._v(\"support of circular references between schemas\")]),s(\"li\",[t._v(\"correct string lengths for strings with unicode pairs (can be turned off)\")]),s(\"li\",[s(\"a\",{attrs:{href:\"#formats\"}},[t._v(\"formats\")]),t._v(\" defined by JSON Schema draft 4 standard and custom formats (can be turned off)\")]),s(\"li\",[s(\"a\",{attrs:{href:\"#api-validateschema\"}},[t._v(\"validates schemas against meta-schema\")])])])]),s(\"li\",[t._v(\"supports \"),s(\"a\",{attrs:{href:\"#using-in-browser\"}},[t._v(\"browsers\")]),t._v(\" and Node.js 0.10-8.x\")]),s(\"li\",[s(\"a\",{attrs:{href:\"#asynchronous-schema-compilation\"}},[t._v(\"asynchronous loading\")]),t._v(\" of referenced schemas during compilation\")]),s(\"li\",[t._v('\"All errors\" validation mode with '),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"option allErrors\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"#validation-errors\"}},[t._v(\"error messages with parameters\")]),t._v(\" describing error reasons to allow creating custom error messages\")]),s(\"li\",[t._v(\"i18n error messages support with \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-i18n\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-i18n\")]),t._v(\" package\")]),s(\"li\",[s(\"a\",{attrs:{href:\"#filtering-data\"}},[t._v(\"filtering data\")]),t._v(\" from additional properties\")]),s(\"li\",[s(\"a\",{attrs:{href:\"#assigning-defaults\"}},[t._v(\"assigning defaults\")]),t._v(\" to missing properties and items\")]),s(\"li\",[s(\"a\",{attrs:{href:\"#coercing-data-types\"}},[t._v(\"coercing data\")]),t._v(\" to the types specified in \"),s(\"code\",[t._v(\"type\")]),t._v(\" keywords\")]),s(\"li\",[s(\"a\",{attrs:{href:\"#defining-custom-keywords\"}},[t._v(\"custom keywords\")])]),s(\"li\",[t._v(\"draft-6 keywords \"),s(\"code\",[t._v(\"const\")]),t._v(\", \"),s(\"code\",[t._v(\"contains\")]),t._v(\" and \"),s(\"code\",[t._v(\"propertyNames\")])]),s(\"li\",[t._v(\"draft-6 boolean schemas (\"),s(\"code\",[t._v(\"true\")]),t._v(\"/\"),s(\"code\",[t._v(\"false\")]),t._v(\" as a schema to always pass/fail).\")]),s(\"li\",[t._v(\"keywords \"),s(\"code\",[t._v(\"switch\")]),t._v(\", \"),s(\"code\",[t._v(\"patternRequired\")]),t._v(\", \"),s(\"code\",[t._v(\"formatMaximum\")]),t._v(\" / \"),s(\"code\",[t._v(\"formatMinimum\")]),t._v(\" and \"),s(\"code\",[t._v(\"formatExclusiveMaximum\")]),t._v(\" / \"),s(\"code\",[t._v(\"formatExclusiveMinimum\")]),t._v(\" from \"),s(\"a\",{attrs:{href:\"https://github.com/json-schema/json-schema/wiki/v5-Proposals\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON-schema extension proposals\")]),t._v(\" with \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-keywords\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-keywords\")]),t._v(\" package\")]),s(\"li\",[s(\"a\",{attrs:{href:\"#data-reference\"}},[t._v(\"$data reference\")]),t._v(\" to use values from the validated data as values for the schema keywords\")]),s(\"li\",[s(\"a\",{attrs:{href:\"#asynchronous-validation\"}},[t._v(\"asynchronous validation\")]),t._v(\" of custom formats and keywords\")])]),s(\"p\",[t._v(\"Currently Ajv is the only validator that passes all the tests from \"),s(\"a\",{attrs:{href:\"https://github.com/json-schema/JSON-Schema-Test-Suite\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON Schema Test Suite\")]),t._v(\" (according to \"),s(\"a\",{attrs:{href:\"https://github.com/ebdrup/json-schema-benchmark\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"json-schema-benchmark\")]),t._v(\", apart from the test that requires that \"),s(\"code\",[t._v(\"1.0\")]),t._v(\" is not an integer that is impossible to satisfy in JavaScript).\")]),s(\"h2\",{attrs:{id:\"install\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#install\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Install\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"npm install ajv\\n\")])]),s(\"p\",[t._v(\"or to install \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/tree/beta\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"version 6\")]),t._v(\":\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"npm install ajv@beta\\n\")])]),s(\"h2\",{attrs:{id:\"getting-started\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#getting-started\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),s(\"a\",{attrs:{name:\"usage\"}}),t._v(\"Getting started\")]),s(\"p\",[t._v(\"Try it in the Node.js REPL: https://tonicdev.com/npm/ajv\")]),s(\"p\",[t._v(\"The fastest validation call:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" Ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ajv'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// options can be passed, e.g. {allErrors: true}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" valid \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"!\")]),t._v(\"valid\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" console\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"validate\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"errors\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"or with less code\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" valid \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"!\")]),t._v(\"valid\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" console\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"errors\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"or\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" valid \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addSchema\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'mySchema'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n               \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'mySchema'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"!\")]),t._v(\"valid\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" console\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"errorsText\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"See \"),s(\"a\",{attrs:{href:\"#api\"}},[t._v(\"API\")]),t._v(\" and \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"Options\")]),t._v(\" for more details.\")]),s(\"p\",[t._v(\"Ajv compiles schemas to functions and caches them in all cases (using schema serialized with \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/fast-json-stable-stringify\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"fast-json-stable-stringify\")]),t._v(\" or a custom function as a key), so that the next time the same schema is used (not necessarily the same object instance) it won't be compiled again.\")]),s(\"p\",[t._v(\"The best performance is achieved when using compiled functions returned by \"),s(\"code\",[t._v(\"compile\")]),t._v(\" or \"),s(\"code\",[t._v(\"getSchema\")]),t._v(\" methods (there is no additional function call).\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": every time a validation function or \"),s(\"code\",[t._v(\"ajv.validate\")]),t._v(\" are called \"),s(\"code\",[t._v(\"errors\")]),t._v(\" property is overwritten. You need to copy \"),s(\"code\",[t._v(\"errors\")]),t._v(\" array reference to another variable if you want to use it later (e.g., in the callback). See \"),s(\"a\",{attrs:{href:\"#validation-errors\"}},[t._v(\"Validation errors\")])]),s(\"h2\",{attrs:{id:\"using-in-browser\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#using-in-browser\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Using in browser\")]),s(\"p\",[t._v(\"You can require Ajv directly from the code you browserify - in this case Ajv will be a part of your bundle.\")]),s(\"p\",[t._v(\"If you need to use Ajv in several bundles you can create a separate UMD bundle using \"),s(\"code\",[t._v(\"npm run bundle\")]),t._v(\" script (thanks to \"),s(\"a\",{attrs:{href:\"https://github.com/siddo420\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"siddo420\")]),t._v(\").\")]),s(\"p\",[t._v(\"Then you need to load Ajv in the browser:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-html\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token tag\"}},[s(\"span\",{attrs:{class:\"token tag\"}},[s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"script\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token attr-name\"}},[t._v(\"src\")]),s(\"span\",{attrs:{class:\"token attr-value\"}},[s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"ajv.min.js\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')])]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),s(\"span\",{attrs:{class:\"token script language-javascript\"}}),s(\"span\",{attrs:{class:\"token tag\"}},[s(\"span\",{attrs:{class:\"token tag\"}},[s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"script\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"This bundle can be used with different module systems; it creates global \"),s(\"code\",[t._v(\"Ajv\")]),t._v(\" if no module system is found.\")]),s(\"p\",[t._v(\"The browser bundle is available on \"),s(\"a\",{attrs:{href:\"https://cdnjs.com/libraries/ajv\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"cdnjs\")]),t._v(\".\")]),s(\"p\",[t._v(\"Ajv is tested with these browsers:\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://saucelabs.com/u/epoberezkin\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://saucelabs.com/browser-matrix/epoberezkin.svg\",alt:\"Sauce Test Status\"}})])]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": some frameworks, e.g. Dojo, may redefine global require in such way that is not compatible with CommonJS module format. In such case Ajv bundle has to be loaded before the framework and then you can use global Ajv (see issue \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/issues/234\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"#234\")]),t._v(\").\")]),s(\"h2\",{attrs:{id:\"command-line-interface\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#command-line-interface\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Command line interface\")]),s(\"p\",[t._v(\"CLI is available as a separate npm package \"),s(\"a\",{attrs:{href:\"https://github.com/jessedc/ajv-cli\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-cli\")]),t._v(\". It supports:\")]),s(\"ul\",[s(\"li\",[t._v(\"compiling JSON-schemas to test their validity\")]),s(\"li\",[t._v(\"BETA: generating standalone module exporting a validation function to be used without Ajv (using \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-pack\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-pack\")]),t._v(\")\")]),s(\"li\",[t._v(\"migrate schemas to draft-06 (using \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/json-schema-migrate\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"json-schema-migrate\")]),t._v(\")\")]),s(\"li\",[t._v(\"validating data file(s) against JSON-schema\")]),s(\"li\",[t._v(\"testing expected validity of data against JSON-schema\")]),s(\"li\",[t._v(\"referenced schemas\")]),s(\"li\",[t._v(\"custom meta-schemas\")]),s(\"li\",[t._v(\"files in JSON and JavaScript format\")]),s(\"li\",[t._v(\"all Ajv options\")]),s(\"li\",[t._v(\"reporting changes in data after validation in \"),s(\"a\",{attrs:{href:\"https://tools.ietf.org/html/rfc6902\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON-patch\")]),t._v(\" format\")])]),s(\"h2\",{attrs:{id:\"validation-keywords\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#validation-keywords\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Validation keywords\")]),s(\"p\",[t._v(\"Ajv supports all validation keywords from draft 4 of JSON-schema standard:\")]),s(\"ul\",[s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#type\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"type\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#keywords-for-numbers\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"for numbers\")]),t._v(\" - maximum, minimum, exclusiveMaximum, exclusiveMinimum, multipleOf\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#keywords-for-strings\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"for strings\")]),t._v(\" - maxLength, minLength, pattern, format\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#keywords-for-arrays\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"for arrays\")]),t._v(\" - maxItems, minItems, uniqueItems, items, additionalItems, \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#contains\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"contains\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#keywords-for-objects\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"for objects\")]),t._v(\" - maxProperties, minProperties, required, properties, patternProperties, additionalProperties, dependencies, \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#propertynames\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"propertyNames\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#keywords-for-all-types\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"for all types\")]),t._v(\" - enum, \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#const\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"const\")])]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#compound-keywords\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"compound keywords\")]),t._v(\" - not, oneOf, anyOf, allOf\")])]),s(\"p\",[t._v(\"With \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-keywords\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-keywords\")]),t._v(\" package Ajv also supports validation keywords from \"),s(\"a\",{attrs:{href:\"https://github.com/json-schema/json-schema/wiki/v5-Proposals\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON Schema extension proposals\")]),t._v(\" for JSON-schema standard:\")]),s(\"ul\",[s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#switch-proposed\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"switch\")]),t._v(\" - conditional validation with a sequence of if/then clauses\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#patternrequired-proposed\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"patternRequired\")]),t._v(\" - like \"),s(\"code\",[t._v(\"required\")]),t._v(\" but with patterns that some property should match.\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#formatmaximum--formatminimum-and-exclusiveformatmaximum--exclusiveformatminimum-proposed\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"formatMaximum, formatMinimum, formatExclusiveMaximum, formatExclusiveMinimum\")]),t._v(\" - setting limits for date, time, etc.\")])]),s(\"p\",[t._v(\"See \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON Schema validation keywords\")]),t._v(\" for more details.\")]),s(\"h2\",{attrs:{id:\"formats\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#formats\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Formats\")]),s(\"p\",[t._v('The following formats are supported for string validation with \"format\" keyword:')]),s(\"ul\",[s(\"li\",[s(\"em\",[t._v(\"date\")]),t._v(\": full-date according to \"),s(\"a\",{attrs:{href:\"http://tools.ietf.org/html/rfc3339#section-5.6\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"RFC3339\")]),t._v(\".\")]),s(\"li\",[s(\"em\",[t._v(\"time\")]),t._v(\": time with optional time-zone.\")]),s(\"li\",[s(\"em\",[t._v(\"date-time\")]),t._v(\": date-time from the same source (time-zone is mandatory). \"),s(\"code\",[t._v(\"date\")]),t._v(\", \"),s(\"code\",[t._v(\"time\")]),t._v(\" and \"),s(\"code\",[t._v(\"date-time\")]),t._v(\" validate ranges in \"),s(\"code\",[t._v(\"full\")]),t._v(\" mode and only regexp in \"),s(\"code\",[t._v(\"fast\")]),t._v(\" mode (see \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"options\")]),t._v(\").\")]),s(\"li\",[s(\"em\",[t._v(\"uri\")]),t._v(\": full uri with optional protocol.\")]),s(\"li\",[s(\"em\",[t._v(\"url\")]),t._v(\": \"),s(\"a\",{attrs:{href:\"https://url.spec.whatwg.org/#concept-url\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"URL record\")]),t._v(\".\")]),s(\"li\",[s(\"em\",[t._v(\"uri-template\")]),t._v(\": URI template according to \"),s(\"a\",{attrs:{href:\"https://tools.ietf.org/html/rfc6570\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"RFC6570\")])]),s(\"li\",[s(\"em\",[t._v(\"email\")]),t._v(\": email address.\")]),s(\"li\",[s(\"em\",[t._v(\"hostname\")]),t._v(\": host name according to \"),s(\"a\",{attrs:{href:\"http://tools.ietf.org/html/rfc1034#section-3.5\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"RFC1034\")]),t._v(\".\")]),s(\"li\",[s(\"em\",[t._v(\"ipv4\")]),t._v(\": IP address v4.\")]),s(\"li\",[s(\"em\",[t._v(\"ipv6\")]),t._v(\": IP address v6.\")]),s(\"li\",[s(\"em\",[t._v(\"regex\")]),t._v(\": tests whether a string is a valid regular expression by passing it to RegExp constructor.\")]),s(\"li\",[s(\"em\",[t._v(\"uuid\")]),t._v(\": Universally Unique IDentifier according to \"),s(\"a\",{attrs:{href:\"http://tools.ietf.org/html/rfc4122\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"RFC4122\")]),t._v(\".\")]),s(\"li\",[s(\"em\",[t._v(\"json-pointer\")]),t._v(\": JSON-pointer according to \"),s(\"a\",{attrs:{href:\"https://tools.ietf.org/html/rfc6901\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"RFC6901\")]),t._v(\".\")]),s(\"li\",[s(\"em\",[t._v(\"relative-json-pointer\")]),t._v(\": relative JSON-pointer according to \"),s(\"a\",{attrs:{href:\"http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"this draft\")]),t._v(\".\")])]),s(\"p\",[t._v(\"There are two modes of format validation: \"),s(\"code\",[t._v(\"fast\")]),t._v(\" and \"),s(\"code\",[t._v(\"full\")]),t._v(\". This mode affects formats \"),s(\"code\",[t._v(\"date\")]),t._v(\", \"),s(\"code\",[t._v(\"time\")]),t._v(\", \"),s(\"code\",[t._v(\"date-time\")]),t._v(\", \"),s(\"code\",[t._v(\"uri\")]),t._v(\", \"),s(\"code\",[t._v(\"email\")]),t._v(\", and \"),s(\"code\",[t._v(\"hostname\")]),t._v(\". See \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"Options\")]),t._v(\" for details.\")]),s(\"p\",[t._v(\"You can add additional formats and replace any of the formats above using \"),s(\"a\",{attrs:{href:\"#api-addformat\"}},[t._v(\"addFormat\")]),t._v(\" method.\")]),s(\"p\",[t._v(\"The option \"),s(\"code\",[t._v(\"unknownFormats\")]),t._v(\" allows changing the default behaviour when an unknown format is encountered. In this case Ajv can either fail schema compilation (default) or ignore it (default in versions before 5.0.0). You also can whitelist specific format(s) to be ignored. See \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"Options\")]),t._v(\" for details.\")]),s(\"p\",[t._v(\"You can find patterns used for format validation and the sources that were used in \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/lib/compile/formats.js\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"formats.js\")]),t._v(\".\")]),s(\"h2\",{attrs:{id:\"combining-schemas-with-ref\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#combining-schemas-with-ref\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),s(\"a\",{attrs:{name:\"ref\"}}),t._v(\"Combining schemas with $ref\")]),s(\"p\",[t._v(\"You can structure your validation logic across multiple schema files and have schemas reference each other using \"),s(\"code\",[t._v(\"$ref\")]),t._v(\" keyword.\")]),s(\"p\",[t._v(\"Example:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" schema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"$id\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"http://example.com/schemas/schema.json\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"object\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"$ref\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"defs.json#/definitions/int\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"$ref\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"defs.json#/definitions/str\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" defsSchema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"$id\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"http://example.com/schemas/defs.json\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"definitions\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"int\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"integer\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"str\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"string\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Now to compile your schema you can either pass all schemas to Ajv instance:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"schemas\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" defsSchema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getSchema\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'http://example.com/schemas/schema.json'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"or use \"),s(\"code\",[t._v(\"addSchema\")]),t._v(\" method:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addSchema\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"defsSchema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"See \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"Options\")]),t._v(\" and \"),s(\"a\",{attrs:{href:\"#api\"}},[t._v(\"addSchema\")]),t._v(\" method.\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\":\")]),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"$ref\")]),t._v(\" is resolved as the uri-reference using schema $id as the base URI (see the example).\")]),s(\"li\",[t._v(\"References can be recursive (and mutually recursive) to implement the schemas for different data structures (such as linked lists, trees, graphs, etc.).\")]),s(\"li\",[t._v(\"You don't have to host your schema files at the URIs that you use as schema $id. These URIs are only used to identify the schemas, and according to JSON Schema specification validators should not expect to be able to download the schemas from these URIs.\")]),s(\"li\",[t._v(\"The actual location of the schema file in the file system is not used.\")]),s(\"li\",[t._v(\"You can pass the identifier of the schema as the second parameter of \"),s(\"code\",[t._v(\"addSchema\")]),t._v(\" method or as a property name in \"),s(\"code\",[t._v(\"schemas\")]),t._v(\" option. This identifier can be used instead of (or in addition to) schema $id.\")]),s(\"li\",[t._v(\"You cannot have the same $id (or the schema identifier) used for more than one schema - the exception will be thrown.\")]),s(\"li\",[t._v(\"You can implement dynamic resolution of the referenced schemas using \"),s(\"code\",[t._v(\"compileAsync\")]),t._v(\" method. In this way you can store schemas in any system (files, web, database, etc.) and reference them without explicitly adding to Ajv instance. See \"),s(\"a\",{attrs:{href:\"#asynchronous-schema-compilation\"}},[t._v(\"Asynchronous schema compilation\")]),t._v(\".\")])]),s(\"h2\",{attrs:{id:\"data-reference\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#data-reference\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" $data reference\")]),s(\"p\",[t._v(\"With \"),s(\"code\",[t._v(\"$data\")]),t._v(\" option you can use values from the validated data as the values for the schema keywords. See \"),s(\"a\",{attrs:{href:\"https://github.com/json-schema/json-schema/wiki/$data-(v5-proposal)\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"proposal\")]),t._v(\" for more information about how it works.\")]),s(\"p\",[s(\"code\",[t._v(\"$data\")]),t._v(\" reference is supported in the keywords: const, enum, format, maximum/minimum, exclusiveMaximum / exclusiveMinimum, maxLength / minLength, maxItems / minItems, maxProperties / minProperties, formatMaximum / formatMinimum, formatExclusiveMaximum / formatExclusiveMinimum, multipleOf, pattern, required, uniqueItems.\")]),s(\"p\",[t._v('The value of \"$data\" should be a '),s(\"a\",{attrs:{href:\"https://tools.ietf.org/html/rfc6901\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON-pointer\")]),t._v(\" to the data (the root is always the top level data object, even if the $data reference is inside a referenced subschema) or a \"),s(\"a\",{attrs:{href:\"http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"relative JSON-pointer\")]),t._v(\" (it is relative to the current point in data; if the $data reference is inside a referenced subschema it cannot point to the data outside of the root level for this subschema).\")]),s(\"p\",[t._v(\"Examples.\")]),s(\"p\",[t._v(\"This schema requires that the value in property \"),s(\"code\",[t._v(\"smaller\")]),t._v(\" is less or equal than the value in the property larger:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"$data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" schema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"smaller\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"number\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"maximum\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"$data\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"1/larger\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"larger\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"number\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validData \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  smaller\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"5\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  larger\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"7\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\najv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" validData\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// true\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"This schema requires that the properties have the same format as their field names:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" schema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"additionalProperties\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"string\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"format\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"$data\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"0#\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validData \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'date-time'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'1963-06-19T08:30:06.283185Z'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  email\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'joe.bloggs@example.com'\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),s(\"p\",[s(\"code\",[t._v(\"$data\")]),t._v(\" reference is resolved safely - it won't throw even if some property is undefined. If \"),s(\"code\",[t._v(\"$data\")]),t._v(\" resolves to \"),s(\"code\",[t._v(\"undefined\")]),t._v(\" the validation succeeds (with the exclusion of \"),s(\"code\",[t._v(\"const\")]),t._v(\" keyword). If \"),s(\"code\",[t._v(\"$data\")]),t._v(' resolves to incorrect type (e.g. not \"number\" for maximum keyword) the validation fails.')]),s(\"h2\",{attrs:{id:\"merge-and-patch-keywords\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#merge-and-patch-keywords\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" $merge and $patch keywords\")]),s(\"p\",[t._v(\"With the package \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-merge-patch\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-merge-patch\")]),t._v(\" you can use the keywords \"),s(\"code\",[t._v(\"$merge\")]),t._v(\" and \"),s(\"code\",[t._v(\"$patch\")]),t._v(\" that allow extending JSON-schemas with patches using formats \"),s(\"a\",{attrs:{href:\"https://tools.ietf.org/html/rfc7396\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON Merge Patch (RFC 7396)\")]),t._v(\" and \"),s(\"a\",{attrs:{href:\"https://tools.ietf.org/html/rfc6902\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON Patch (RFC 6902)\")]),t._v(\".\")]),s(\"p\",[t._v(\"To add keywords \"),s(\"code\",[t._v(\"$merge\")]),t._v(\" and \"),s(\"code\",[t._v(\"$patch\")]),t._v(\" to Ajv instance use this code:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ajv-merge-patch'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Examples.\")]),s(\"p\",[t._v(\"Using \"),s(\"code\",[t._v(\"$merge\")]),t._v(\":\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"$merge\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"source\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"object\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"p\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"string\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"additionalProperties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"with\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"q\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"number\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Using \"),s(\"code\",[t._v(\"$patch\")]),t._v(\":\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"$patch\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"source\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"object\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"p\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"string\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"additionalProperties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"with\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"op\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"add\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"path\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"/properties/q\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"value\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"number\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"The schemas above are equivalent to this schema:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"object\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"p\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"string\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"q\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"number\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"additionalProperties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"The properties \"),s(\"code\",[t._v(\"source\")]),t._v(\" and \"),s(\"code\",[t._v(\"with\")]),t._v(\" in the keywords \"),s(\"code\",[t._v(\"$merge\")]),t._v(\" and \"),s(\"code\",[t._v(\"$patch\")]),t._v(\" can use absolute or relative \"),s(\"code\",[t._v(\"$ref\")]),t._v(\" to point to other schemas previously added to the Ajv instance or to the fragments of the current schema.\")]),s(\"p\",[t._v(\"See the package \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-merge-patch\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-merge-patch\")]),t._v(\" for more information.\")]),s(\"h2\",{attrs:{id:\"defining-custom-keywords\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#defining-custom-keywords\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Defining custom keywords\")]),s(\"p\",[t._v(\"The advantages of using custom keywords are:\")]),s(\"ul\",[s(\"li\",[t._v(\"allow creating validation scenarios that cannot be expressed using JSON Schema\")]),s(\"li\",[t._v(\"simplify your schemas\")]),s(\"li\",[t._v(\"help bringing a bigger part of the validation logic to your schemas\")]),s(\"li\",[t._v(\"make your schemas more expressive, less verbose and closer to your application domain\")]),s(\"li\",[t._v(\"implement custom data processors that modify your data (\"),s(\"code\",[t._v(\"modifying\")]),t._v(\" option MUST be used in keyword definition) and/or create side effects while the data is being validated\")])]),s(\"p\",[t._v(\"If a keyword is used only for side-effects and its validation result is pre-defined, use option \"),s(\"code\",[t._v(\"valid: true/false\")]),t._v(\" in keyword definition to simplify both generated code (no error handling in case of \"),s(\"code\",[t._v(\"valid: true\")]),t._v(\") and your keyword functions (no need to return any validation result).\")]),s(\"p\",[t._v(\"The concerns you have to be aware of when extending JSON-schema standard with custom keywords are the portability and understanding of your schemas. You will have to support these custom keywords on other platforms and to properly document these keywords so that everybody can understand them in your schemas.\")]),s(\"p\",[t._v(\"You can define custom keywords with \"),s(\"a\",{attrs:{href:\"#api-addkeyword\"}},[t._v(\"addKeyword\")]),t._v(\" method. Keywords are defined on the \"),s(\"code\",[t._v(\"ajv\")]),t._v(\" instance level - new instances will not have previously defined keywords.\")]),s(\"p\",[t._v(\"Ajv allows defining keywords with:\")]),s(\"ul\",[s(\"li\",[t._v(\"validation function\")]),s(\"li\",[t._v(\"compilation function\")]),s(\"li\",[t._v(\"macro function\")]),s(\"li\",[t._v(\"inline compilation function that should return code (as string) that will be inlined in the currently compiled schema.\")])]),s(\"p\",[t._v(\"Example. \"),s(\"code\",[t._v(\"range\")]),t._v(\" and \"),s(\"code\",[t._v(\"exclusiveRange\")]),t._v(\" keywords using compiled schema:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addKeyword\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'range'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  type\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'number'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  compile\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"sch\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" parentSchema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" min \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" sch\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" max \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" sch\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n    \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" parentSchema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"exclusiveRange \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),t._v(\"\\n            \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"?\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" data \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\" min \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" data \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\" max\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n            \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" data \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\">=\")]),t._v(\" min \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" data \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"<=\")]),t._v(\" max\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" schema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"range\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"2\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"4\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"exclusiveRange\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"2.01\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// true\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"3.99\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// true\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"2\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// false\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"4\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// false\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Several custom keywords (typeof, instanceof, range and propertyNames) are defined in \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-keywords\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-keywords\")]),t._v(\" package - they can be used for your schemas and as a starting point for your own custom keywords.\")]),s(\"p\",[t._v(\"See \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/CUSTOM.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Defining custom keywords\")]),t._v(\" for more details.\")]),s(\"h2\",{attrs:{id:\"asynchronous-schema-compilation\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#asynchronous-schema-compilation\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Asynchronous schema compilation\")]),s(\"p\",[t._v(\"During asynchronous compilation remote references are loaded using supplied function. See \"),s(\"code\",[t._v(\"compileAsync\")]),s(\"a\",{attrs:{href:\"#api-compileAsync\"}},[t._v(\"method\")]),t._v(\" and \"),s(\"code\",[t._v(\"loadSchema\")]),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"option\")]),t._v(\".\")]),s(\"p\",[t._v(\"Example:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" loadSchema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" loadSchema \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\najv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compileAsync\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"validate\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" valid \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"loadSchema\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"uri\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" request\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"json\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"uri\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"statusCode \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\">=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"400\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"throw\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Error\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Loading error: '\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" res\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"statusCode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" res\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"body\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"Option\")]),s(\"code\",[t._v(\"missingRefs\")]),t._v(\" should NOT be set to \"),s(\"code\",[t._v('\"ignore\"')]),t._v(\" or \"),s(\"code\",[t._v('\"fail\"')]),t._v(\" for asynchronous compilation to work.\")]),s(\"h2\",{attrs:{id:\"asynchronous-validation\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#asynchronous-validation\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Asynchronous validation\")]),s(\"p\",[t._v(\"Example in Node.js REPL: https://tonicdev.com/esp/ajv-asynchronous-validation\")]),s(\"p\",[t._v(\"You can define custom formats and keywords that perform validation asynchronously by accessing database or some other service. You should add \"),s(\"code\",[t._v(\"async: true\")]),t._v(\" in the keyword or format definition (see \"),s(\"a\",{attrs:{href:\"#api-addformat\"}},[t._v(\"addFormat\")]),t._v(\", \"),s(\"a\",{attrs:{href:\"#api-addkeyword\"}},[t._v(\"addKeyword\")]),t._v(\" and \"),s(\"a\",{attrs:{href:\"#defining-custom-keywords\"}},[t._v(\"Defining custom keywords\")]),t._v(\").\")]),s(\"p\",[t._v(\"If your schema uses asynchronous formats/keywords or refers to some schema that contains them it should have \"),s(\"code\",[t._v('\"$async\": true')]),t._v(\" keyword so that Ajv can compile it correctly. If asynchronous format/keyword or reference to asynchronous schema is used in the schema without \"),s(\"code\",[t._v(\"$async\")]),t._v(\" keyword Ajv will throw an exception during schema compilation.\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": all asynchronous subschemas that are referenced from the current or other schemas should have \"),s(\"code\",[t._v('\"$async\": true')]),t._v(\" keyword as well, otherwise the schema compilation will fail.\")]),s(\"p\",[t._v(\"Validation function for an asynchronous custom format/keyword should return a promise that resolves with \"),s(\"code\",[t._v(\"true\")]),t._v(\" or \"),s(\"code\",[t._v(\"false\")]),t._v(\" (or rejects with \"),s(\"code\",[t._v(\"new Ajv.ValidationError(errors)\")]),t._v(\" if you want to return custom errors from the keyword function). Ajv compiles asynchronous schemas to either \"),s(\"a\",{attrs:{href:\"http://tc39.github.io/ecmascript-asyncawait/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"es7 async functions\")]),t._v(\" that can optionally be transpiled with \"),s(\"a\",{attrs:{href:\"https://github.com/MatAtBread/nodent\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"nodent\")]),t._v(\" or with \"),s(\"a\",{attrs:{href:\"https://github.com/facebook/regenerator\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"regenerator\")]),t._v(\" or to \"),s(\"a\",{attrs:{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"generator functions\")]),t._v(\" that can be optionally transpiled with regenerator as well. You can also supply any other transpiler as a function. See \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"Options\")]),t._v(\".\")]),s(\"p\",[t._v(\"The compiled validation function has \"),s(\"code\",[t._v(\"$async: true\")]),t._v(\" property (if the schema is asynchronous), so you can differentiate these functions if you are using both synchronous and asynchronous schemas.\")]),s(\"p\",[t._v(\"If you are using generators, the compiled validation function can be either wrapped with \"),s(\"a\",{attrs:{href:\"https://github.com/tj/co\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"co\")]),t._v(\" (default) or returned as generator function, that can be used directly, e.g. in \"),s(\"a\",{attrs:{href:\"http://koajs.com/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"koa\")]),t._v(\" 1.0. \"),s(\"code\",[t._v(\"co\")]),t._v(\" is a small library, it is included in Ajv (both as npm dependency and in the browser bundle).\")]),s(\"p\",[t._v(\"Async functions are currently supported in Chrome 55, Firefox 52, Node.js 7 (with --harmony-async-await) and MS Edge 13 (with flag).\")]),s(\"p\",[t._v(\"Generator functions are currently supported in Chrome, Firefox and Node.js.\")]),s(\"p\",[t._v(\"If you are using Ajv in other browsers or in older versions of Node.js you should use one of available transpiling options. All provided async modes use global Promise class. If your platform does not have Promise you should use a polyfill that defines it.\")]),s(\"p\",[t._v(\"Validation result will be a promise that resolves with validated data or rejects with an exception \"),s(\"code\",[t._v(\"Ajv.ValidationError\")]),t._v(\" that contains the array of validation errors in \"),s(\"code\",[t._v(\"errors\")]),t._v(\" property.\")]),s(\"p\",[t._v(\"Example:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token comment\"}},[t._v('/**\\n * Default mode is non-transpiled generator function wrapped with `co`.\\n * Using package ajv-async (https://github.com/epoberezkin/ajv-async)\\n * you can auto-detect the best async mode.\\n * In this case, without \"async\" and \"transpile\" options\\n * (or with option {async: true})\\n * Ajv will choose the first supported/installed option in this order:\\n * 1. native async function\\n * 2. native generator function wrapped with co\\n * 3. es7 async functions transpiled with nodent\\n * 4. es7 async functions transpiled with regenerator\\n */')]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" setupAsync \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ajv-async'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setupAsync\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\najv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addKeyword\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'idExists'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"async\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  type\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'number'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  validate\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" checkIdExists\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"checkIdExists\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"knex\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"table\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"select\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'id'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"where\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'id'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"rows\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"!\")]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"!\")]),t._v(\"rows\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"length\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// true if record is found\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" schema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"$async\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"userId\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"integer\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"idExists\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"table\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"users\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"postId\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"integer\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"idExists\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"table\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"posts\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" userId\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" postId\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"19\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  console\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Data is valid'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// { userId: 1, postId: 19 }\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"!\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"instanceof\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"ValidationError\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"throw\")]),t._v(\" err\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// data is invalid\")]),t._v(\"\\n  console\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'Validation errors:'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" err\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"errors\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"h3\",{attrs:{id:\"using-transpilers-with-asynchronous-validation-functions\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#using-transpilers-with-asynchronous-validation-functions\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Using transpilers with asynchronous validation functions.\")]),s(\"p\",[t._v(\"To use a transpiler you should separately install it (or load its bundle in the browser).\")]),s(\"p\",[t._v(\"Ajv npm package includes minified browser bundles of regenerator and nodent in dist folder.\")]),s(\"h4\",{attrs:{id:\"using-nodent\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#using-nodent\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Using nodent\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" setupAsync \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ajv-async'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"/* async: 'es7', */\")]),t._v(\" transpile\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'nodent'\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setupAsync\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// transpiled es7 async function\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"successFunc\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"errorFunc\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[s(\"code\",[t._v(\"npm install nodent\")]),t._v(\" or use \"),s(\"code\",[t._v(\"nodent.min.js\")]),t._v(\" from dist folder of npm package.\")]),s(\"h4\",{attrs:{id:\"using-regenerator\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#using-regenerator\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Using regenerator\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" setupAsync \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ajv-async'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"/* async: 'es7', */\")]),t._v(\" transpile\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'regenerator'\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setupAsync\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// transpiled es7 async function\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"successFunc\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"errorFunc\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[s(\"code\",[t._v(\"npm install regenerator\")]),t._v(\" or use \"),s(\"code\",[t._v(\"regenerator.min.js\")]),t._v(\" from dist folder of npm package.\")]),s(\"h4\",{attrs:{id:\"using-other-transpilers\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#using-other-transpilers\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Using other transpilers\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"async\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'es7'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" processCode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" transpileFunc \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// transpiled es7 async function\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"successFunc\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"errorFunc\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"See \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"Options\")]),t._v(\".\")]),s(\"h4\",{attrs:{id:\"comparison-of-async-modes\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#comparison-of-async-modes\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Comparison of async modes\")]),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",[t._v(\"mode\")]),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"transpile\"),s(\"br\"),t._v(\"speed*\")]),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"run-time\"),s(\"br\"),t._v(\"speed*\")]),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"bundle\"),s(\"br\"),t._v(\"size\")])])]),s(\"tbody\",[s(\"tr\",[s(\"td\",[t._v(\"es7 async\"),s(\"br\"),t._v(\"(native)\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"-\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"0.75\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"-\")])]),s(\"tr\",[s(\"td\",[t._v(\"generators\"),s(\"br\"),t._v(\"(native)\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"-\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"1.0\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"-\")])]),s(\"tr\",[s(\"td\",[t._v(\"es7.nodent\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"1.35\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"1.1\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"215Kb\")])]),s(\"tr\",[s(\"td\",[t._v(\"es7.regenerator\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"1.0\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"2.7\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"1109Kb\")])]),s(\"tr\",[s(\"td\",[t._v(\"regenerator\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"1.0\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"3.2\")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"1109Kb\")])])])]),s(\"p\",[t._v(\"* Relative performance in Node.js 7.x  smaller is better.\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://github.com/MatAtBread/nodent\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"nodent\")]),t._v(\" has several advantages:\")]),s(\"ul\",[s(\"li\",[t._v(\"much smaller browser bundle than regenerator\")]),s(\"li\",[t._v(\"almost the same performance of generated code as native generators in Node.js and the latest Chrome\")]),s(\"li\",[t._v(\"much better performance than native generators in other browsers\")]),s(\"li\",[t._v(\"works in IE 9 (regenerator does not)\")])]),s(\"h2\",{attrs:{id:\"filtering-data\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#filtering-data\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Filtering data\")]),s(\"p\",[t._v(\"With \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"option \"),s(\"code\",[t._v(\"removeAdditional\")])]),t._v(\" (added by \"),s(\"a\",{attrs:{href:\"https://github.com/andyscott\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"andyscott\")]),t._v(\") you can filter data during the validation.\")]),s(\"p\",[t._v(\"This option modifies original data.\")]),s(\"p\",[t._v(\"Example:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" removeAdditional\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" schema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"additionalProperties\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"number\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"additionalProperties\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"number\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"baz\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"string\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" data \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"additional1\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// will be removed; `additionalProperties` == false\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"baz\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"abc\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"additional2\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"2\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// will NOT be removed; `additionalProperties` != false\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// true\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v('// { \"foo\": 0, \"bar\": { \"baz\": \"abc\", \"additional2\": 2 }')]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"If \"),s(\"code\",[t._v(\"removeAdditional\")]),t._v(\" option in the example above were \"),s(\"code\",[t._v('\"all\"')]),t._v(\" then both \"),s(\"code\",[t._v(\"additional1\")]),t._v(\" and \"),s(\"code\",[t._v(\"additional2\")]),t._v(\" properties would have been removed.\")]),s(\"p\",[t._v(\"If the option were \"),s(\"code\",[t._v('\"failing\"')]),t._v(\" then property \"),s(\"code\",[t._v(\"additional1\")]),t._v(\" would have been removed regardless of its value and property \"),s(\"code\",[t._v(\"additional2\")]),t._v(\" would have been removed only if its value were failing the schema in the inner \"),s(\"code\",[t._v(\"additionalProperties\")]),t._v(\" (so in the example above it would have stayed because it passes the schema, but any non-number would have been removed).\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": If you use \"),s(\"code\",[t._v(\"removeAdditional\")]),t._v(\" option with \"),s(\"code\",[t._v(\"additionalProperties\")]),t._v(\" keyword inside \"),s(\"code\",[t._v(\"anyOf\")]),t._v(\"/\"),s(\"code\",[t._v(\"oneOf\")]),t._v(\" keywords your validation can fail with this schema, for example:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"object\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"oneOf\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"string\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"required\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"additionalProperties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"bar\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"integer\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"required\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"additionalProperties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),s(\"p\",[t._v('The intention of the schema above is to allow objects with either the string property \"foo\" or the integer property \"bar\", but not with both and not with any other properties.')]),s(\"p\",[t._v(\"With the option \"),s(\"code\",[t._v(\"removeAdditional: true\")]),t._v(\" the validation will pass for the object \"),s(\"code\",[t._v('{ \"foo\": \"abc\"}')]),t._v(\" but will fail for the object \"),s(\"code\",[t._v('{\"bar\": 1}')]),t._v(\". It happens because while the first subschema in \"),s(\"code\",[t._v(\"oneOf\")]),t._v(\" is validated, the property \"),s(\"code\",[t._v(\"bar\")]),t._v(\" is removed because it is an additional property according to the standard (because it is not included in \"),s(\"code\",[t._v(\"properties\")]),t._v(\" keyword in the same schema).\")]),s(\"p\",[t._v(\"While this behaviour is unexpected (issues \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/issues/129\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"#129\")]),t._v(\", \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/issues/134\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"#134\")]),t._v(\"), it is correct. To have the expected behaviour (both objects are allowed and additional properties are removed) the schema has to be refactored in this way:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"object\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"string\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"bar\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"integer\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"additionalProperties\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"oneOf\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"required\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token property\"}},[t._v('\"required\"')]),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"The schema above is also more efficient - it will compile into a faster function.\")]),s(\"h2\",{attrs:{id:\"assigning-defaults\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#assigning-defaults\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Assigning defaults\")]),s(\"p\",[t._v(\"With \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"option \"),s(\"code\",[t._v(\"useDefaults\")])]),t._v(\" Ajv will assign values from \"),s(\"code\",[t._v(\"default\")]),t._v(\" keyword in the schemas of \"),s(\"code\",[t._v(\"properties\")]),t._v(\" and \"),s(\"code\",[t._v(\"items\")]),t._v(\" (when it is the array of schemas) to the missing properties and items.\")]),s(\"p\",[t._v(\"This option modifies original data.\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": by default the default value is inserted in the generated validation code as a literal (starting from v4.0), so the value inserted in the data will be the deep clone of the default in the schema.\")]),s(\"p\",[t._v(\"If you need to insert the default value in the data by reference pass the option \"),s(\"code\",[t._v('useDefaults: \"shared\"')]),t._v(\".\")]),s(\"p\",[t._v(\"Inserting defaults by reference can be faster (in case you have an object in \"),s(\"code\",[t._v(\"default\")]),t._v(\") and it allows to have dynamic values in defaults, e.g. timestamp, without recompiling the schema. The side effect is that modifying the default value in any validated data instance will change the default in the schema and in other validated data instances. See example 3 below.\")]),s(\"p\",[t._v(\"Example 1 (\"),s(\"code\",[t._v(\"default\")]),t._v(\" in \"),s(\"code\",[t._v(\"properties\")]),t._v(\"):\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" useDefaults\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" schema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"object\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"number\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"string\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"default\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"baz\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"required\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" data \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// true\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v('// { \"foo\": 1, \"bar\": \"baz\" }')]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Example 2 (\"),s(\"code\",[t._v(\"default\")]),t._v(\" in \"),s(\"code\",[t._v(\"items\")]),t._v(\"):\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" schema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"array\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"items\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"number\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"string\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"default\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" data \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// true\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v('// [ 1, \"foo\" ]')]),t._v(\"\\n\")])]),s(\"p\",[t._v('Example 3 (inserting \"defaults\" by reference):')]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" useDefaults\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'shared'\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" schema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  properties\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    foo\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"default\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" bar\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" data \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// true\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// { foo: { bar: 1 } }\")]),t._v(\"\\n\\ndata\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"foo\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"bar \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"2\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" data2 \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data2\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// true\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data2\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// { foo: { bar: 2 } }\")]),t._v(\"\\n\")])]),s(\"p\",[s(\"code\",[t._v(\"default\")]),t._v(\" keywords in other cases are ignored:\")]),s(\"ul\",[s(\"li\",[t._v(\"not in \"),s(\"code\",[t._v(\"properties\")]),t._v(\" or \"),s(\"code\",[t._v(\"items\")]),t._v(\" subschemas\")]),s(\"li\",[t._v(\"in schemas inside \"),s(\"code\",[t._v(\"anyOf\")]),t._v(\", \"),s(\"code\",[t._v(\"oneOf\")]),t._v(\" and \"),s(\"code\",[t._v(\"not\")]),t._v(\" (see \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/issues/42\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"#42\")]),t._v(\")\")]),s(\"li\",[t._v(\"in \"),s(\"code\",[t._v(\"if\")]),t._v(\" subschema of \"),s(\"code\",[t._v(\"switch\")]),t._v(\" keyword\")]),s(\"li\",[t._v(\"in schemas generated by custom macro keywords\")])]),s(\"h2\",{attrs:{id:\"coercing-data-types\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#coercing-data-types\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Coercing data types\")]),s(\"p\",[t._v(\"When you are validating user inputs all your data properties are usually strings. The option \"),s(\"code\",[t._v(\"coerceTypes\")]),t._v(\" allows you to have your data types coerced to the types specified in your schema \"),s(\"code\",[t._v(\"type\")]),t._v(\" keywords, both to pass the validation and to use the correctly typed data afterwards.\")]),s(\"p\",[t._v(\"This option modifies original data.\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": if you pass a scalar value to the validating function its type will be coerced and it will pass the validation, but the value of the variable you pass won't be updated because scalars are passed by value.\")]),s(\"p\",[t._v(\"Example 1:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" coerceTypes\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" schema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"object\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"number\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"boolean\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"required\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" data \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"1\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"false\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// true\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v('// { \"foo\": 1, \"bar\": false }')]),t._v(\"\\n\")])]),s(\"p\",[t._v(\"Example 2 (array coercions):\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ajv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" coerceTypes\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'array'\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" schema \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"properties\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"array\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"items\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"number\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"type\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"boolean\"')]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" data \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"foo\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"1\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"bar\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"false\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" ajv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"compile\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"validate\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// true\")]),t._v(\"\\nconsole\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v('// { \"foo\": [1], \"bar\": false }')]),t._v(\"\\n\")])]),s(\"p\",[t._v('The coercion rules, as you can see from the example, are different from JavaScript both to validate user input as expected and to have the coercion reversible (to correctly validate cases where different types are defined in subschemas of \"anyOf\" and other compound keywords).')]),s(\"p\",[t._v(\"See \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/COERCION.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Coercion rules\")]),t._v(\" for details.\")]),s(\"h2\",{attrs:{id:\"api\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#api\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" API\")]),s(\"h5\",{attrs:{id:\"new-ajv-object-options-object\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#new-ajv-object-options-object\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" new Ajv(Object options) -> Object\")]),s(\"p\",[t._v(\"Create Ajv instance.\")]),s(\"h5\",{attrs:{id:\"compile-object-schema-function-object-data\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#compile-object-schema-function-object-data\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" .compile(Object schema) -> Function<Object data>\")]),s(\"p\",[t._v(\"Generate validating function and cache the compiled schema for future use.\")]),s(\"p\",[t._v(\"Validating function returns boolean and has properties \"),s(\"code\",[t._v(\"errors\")]),t._v(\" with the errors from the last validation (\"),s(\"code\",[t._v(\"null\")]),t._v(\" if there were no errors) and \"),s(\"code\",[t._v(\"schema\")]),t._v(\" with the reference to the original schema.\")]),s(\"p\",[t._v(\"Unless the option \"),s(\"code\",[t._v(\"validateSchema\")]),t._v(\" is false, the schema will be validated against meta-schema and if schema is invalid the error will be thrown. See \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"options\")]),t._v(\".\")]),s(\"h5\",{attrs:{id:\"compileasync-object-schema-boolean-meta-function-callback-promise\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#compileasync-object-schema-boolean-meta-function-callback-promise\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),s(\"a\",{attrs:{name:\"api-compileAsync\"}}),t._v(\".compileAsync(Object schema [, Boolean meta] [, Function callback]) -> Promise\")]),s(\"p\",[t._v(\"Asynchronous version of \"),s(\"code\",[t._v(\"compile\")]),t._v(\" method that loads missing remote schemas using asynchronous function in \"),s(\"code\",[t._v(\"options.loadSchema\")]),t._v(\". This function returns a Promise that resolves to a validation function. An optional callback passed to \"),s(\"code\",[t._v(\"compileAsync\")]),t._v(\" will be called with 2 parameters: error (or null) and validating function. The returned promise will reject (and the callback will be called with an error) when:\")]),s(\"ul\",[s(\"li\",[t._v(\"missing schema can't be loaded (\"),s(\"code\",[t._v(\"loadSchema\")]),t._v(\" returns a Promise that rejects).\")]),s(\"li\",[t._v(\"a schema containing a missing reference is loaded, but the reference cannot be resolved.\")]),s(\"li\",[t._v(\"schema (or some loaded/referenced schema) is invalid.\")])]),s(\"p\",[t._v(\"The function compiles schema and loads the first missing schema (or meta-schema) until all missing schemas are loaded.\")]),s(\"p\",[t._v(\"You can asynchronously compile meta-schema by passing \"),s(\"code\",[t._v(\"true\")]),t._v(\" as the second parameter.\")]),s(\"p\",[t._v(\"See example in \"),s(\"a\",{attrs:{href:\"#asynchronous-schema-compilation\"}},[t._v(\"Asynchronous compilation\")]),t._v(\".\")]),s(\"h5\",{attrs:{id:\"validate-object-schema-string-key-string-ref-data-boolean\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#validate-object-schema-string-key-string-ref-data-boolean\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" .validate(Object schema|String key|String ref, data) -> Boolean\")]),s(\"p\",[t._v(\"Validate data using passed schema (it will be compiled and cached).\")]),s(\"p\",[t._v(\"Instead of the schema you can use the key that was previously passed to \"),s(\"code\",[t._v(\"addSchema\")]),t._v(\", the schema id if it was present in the schema or any previously resolved reference.\")]),s(\"p\",[t._v(\"Validation errors will be available in the \"),s(\"code\",[t._v(\"errors\")]),t._v(\" property of Ajv instance (\"),s(\"code\",[t._v(\"null\")]),t._v(\" if there were no errors).\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": every time this method is called the errors are overwritten so you need to copy them to another variable if you want to use them later.\")]),s(\"p\",[t._v(\"If the schema is asynchronous (has \"),s(\"code\",[t._v(\"$async\")]),t._v(\" keyword on the top level) this method returns a Promise. See \"),s(\"a\",{attrs:{href:\"#asynchronous-validation\"}},[t._v(\"Asynchronous validation\")]),t._v(\".\")]),s(\"h5\",{attrs:{id:\"addschema-array-object-object-schema-string-key-ajv\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#addschema-array-object-object-schema-string-key-ajv\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" .addSchema(Array<Object>|Object schema [, String key]) -> Ajv\")]),s(\"p\",[t._v(\"Add schema(s) to validator instance. This method does not compile schemas (but it still validates them). Because of that dependencies can be added in any order and circular dependencies are supported. It also prevents unnecessary compilation of schemas that are containers for other schemas but not used as a whole.\")]),s(\"p\",[t._v(\"Array of schemas can be passed (schemas should have ids), the second parameter will be ignored.\")]),s(\"p\",[t._v(\"Key can be passed that can be used to reference the schema and will be used as the schema id if there is no id inside the schema. If the key is not passed, the schema id will be used as the key.\")]),s(\"p\",[t._v(\"Once the schema is added, it (and all the references inside it) can be referenced in other schemas and used to validate data.\")]),s(\"p\",[t._v(\"Although \"),s(\"code\",[t._v(\"addSchema\")]),t._v(\" does not compile schemas, explicit compilation is not required - the schema will be compiled when it is used first time.\")]),s(\"p\",[t._v(\"By default the schema is validated against meta-schema before it is added, and if the schema does not pass validation the exception is thrown. This behaviour is controlled by \"),s(\"code\",[t._v(\"validateSchema\")]),t._v(\" option.\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": Ajv uses the \"),s(\"a\",{attrs:{href:\"https://en.wikipedia.org/wiki/Method_chaining\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"method chaining syntax\")]),t._v(\" for all methods with the prefix \"),s(\"code\",[t._v(\"add*\")]),t._v(\" and \"),s(\"code\",[t._v(\"remove*\")]),t._v(\".\\nThis allows you to do nice things like the following.\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" validate \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Ajv\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addSchema\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"schema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addFormat\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"name\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" regex\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"getSchema\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"uri\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"h5\",{attrs:{id:\"addmetaschema-array-object-object-schema-string-key-ajv\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#addmetaschema-array-object-object-schema-string-key-ajv\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" .addMetaSchema(Array<Object>|Object schema [, String key]) -> Ajv\")]),s(\"p\",[t._v(\"Adds meta schema(s) that can be used to validate other schemas. That function should be used instead of \"),s(\"code\",[t._v(\"addSchema\")]),t._v(\" because there may be instance options that would compile a meta schema incorrectly (at the moment it is \"),s(\"code\",[t._v(\"removeAdditional\")]),t._v(\" option).\")]),s(\"p\",[t._v(\"There is no need to explicitly add draft 6 meta schema (http://json-schema.org/draft-06/schema and http://json-schema.org/schema) - it is added by default, unless option \"),s(\"code\",[t._v(\"meta\")]),t._v(\" is set to \"),s(\"code\",[t._v(\"false\")]),t._v(\". You only need to use it if you have a changed meta-schema that you want to use to validate your schemas. See \"),s(\"code\",[t._v(\"validateSchema\")]),t._v(\".\")]),s(\"h5\",{attrs:{id:\"validateschema-object-schema-boolean\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#validateschema-object-schema-boolean\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),s(\"a\",{attrs:{name:\"api-validateschema\"}}),t._v(\".validateSchema(Object schema) -> Boolean\")]),s(\"p\",[t._v(\"Validates schema. This method should be used to validate schemas rather than \"),s(\"code\",[t._v(\"validate\")]),t._v(\" due to the inconsistency of \"),s(\"code\",[t._v(\"uri\")]),t._v(\" format in JSON Schema standard.\")]),s(\"p\",[t._v(\"By default this method is called automatically when the schema is added, so you rarely need to use it directly.\")]),s(\"p\",[t._v(\"If schema doesn't have \"),s(\"code\",[t._v(\"$schema\")]),t._v(\" property, it is validated against draft 6 meta-schema (option \"),s(\"code\",[t._v(\"meta\")]),t._v(\" should not be false).\")]),s(\"p\",[t._v(\"If schema has \"),s(\"code\",[t._v(\"$schema\")]),t._v(\" property, then the schema with this id (that should be previously added) is used to validate passed schema.\")]),s(\"p\",[t._v(\"Errors will be available at \"),s(\"code\",[t._v(\"ajv.errors\")]),t._v(\".\")]),s(\"h5\",{attrs:{id:\"getschema-string-key-function-object-data\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#getschema-string-key-function-object-data\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" .getSchema(String key) -> Function<Object data>\")]),s(\"p\",[t._v(\"Retrieve compiled schema previously added with \"),s(\"code\",[t._v(\"addSchema\")]),t._v(\" by the key passed to \"),s(\"code\",[t._v(\"addSchema\")]),t._v(\" or by its full reference (id). The returned validating function has \"),s(\"code\",[t._v(\"schema\")]),t._v(\" property with the reference to the original schema.\")]),s(\"h5\",{attrs:{id:\"removeschema-object-schema-string-key-string-ref-regexp-pattern-ajv\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#removeschema-object-schema-string-key-string-ref-regexp-pattern-ajv\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" .removeSchema([Object schema|String key|String ref|RegExp pattern]) -> Ajv\")]),s(\"p\",[t._v(\"Remove added/cached schema. Even if schema is referenced by other schemas it can be safely removed as dependent schemas have local references.\")]),s(\"p\",[t._v(\"Schema can be removed using:\")]),s(\"ul\",[s(\"li\",[t._v(\"key passed to \"),s(\"code\",[t._v(\"addSchema\")])]),s(\"li\",[t._v(\"it's full reference (id)\")]),s(\"li\",[t._v(\"RegExp that should match schema id or key (meta-schemas won't be removed)\")]),s(\"li\",[t._v(\"actual schema object that will be stable-stringified to remove schema from cache\")])]),s(\"p\",[t._v(\"If no parameter is passed all schemas but meta-schemas will be removed and the cache will be cleared.\")]),s(\"h5\",{attrs:{id:\"addformat-string-name-string-regexp-function-object-format-ajv\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#addformat-string-name-string-regexp-function-object-format-ajv\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),s(\"a\",{attrs:{name:\"api-addformat\"}}),t._v(\".addFormat(String name, String|RegExp|Function|Object format) -> Ajv\")]),s(\"p\",[t._v(\"Add custom format to validate strings or numbers. It can also be used to replace pre-defined formats for Ajv instance.\")]),s(\"p\",[t._v(\"Strings are converted to RegExp.\")]),s(\"p\",[t._v(\"Function should return validation result as \"),s(\"code\",[t._v(\"true\")]),t._v(\" or \"),s(\"code\",[t._v(\"false\")]),t._v(\".\")]),s(\"p\",[t._v(\"If object is passed it should have properties \"),s(\"code\",[t._v(\"validate\")]),t._v(\", \"),s(\"code\",[t._v(\"compare\")]),t._v(\" and \"),s(\"code\",[t._v(\"async\")]),t._v(\":\")]),s(\"ul\",[s(\"li\",[s(\"em\",[t._v(\"validate\")]),t._v(\": a string, RegExp or a function as described above.\")]),s(\"li\",[s(\"em\",[t._v(\"compare\")]),t._v(\": an optional comparison function that accepts two strings and compares them according to the format meaning. This function is used with keywords \"),s(\"code\",[t._v(\"formatMaximum\")]),t._v(\"/\"),s(\"code\",[t._v(\"formatMinimum\")]),t._v(\" (defined in \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-keywords\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-keywords\")]),t._v(\" package). It should return \"),s(\"code\",[t._v(\"1\")]),t._v(\" if the first value is bigger than the second value, \"),s(\"code\",[t._v(\"-1\")]),t._v(\" if it is smaller and \"),s(\"code\",[t._v(\"0\")]),t._v(\" if it is equal.\")]),s(\"li\",[s(\"em\",[t._v(\"async\")]),t._v(\": an optional \"),s(\"code\",[t._v(\"true\")]),t._v(\" value if \"),s(\"code\",[t._v(\"validate\")]),t._v(\" is an asynchronous function; in this case it should return a promise that resolves with a value \"),s(\"code\",[t._v(\"true\")]),t._v(\" or \"),s(\"code\",[t._v(\"false\")]),t._v(\".\")]),s(\"li\",[s(\"em\",[t._v(\"type\")]),t._v(\": an optional type of data that the format applies to. It can be \"),s(\"code\",[t._v('\"string\"')]),t._v(\" (default) or \"),s(\"code\",[t._v('\"number\"')]),t._v(\" (see https://github.com/epoberezkin/ajv/issues/291#issuecomment-259923858). If the type of data is different, the validation will pass.\")])]),s(\"p\",[t._v(\"Custom formats can be also added via \"),s(\"code\",[t._v(\"formats\")]),t._v(\" option.\")]),s(\"h5\",{attrs:{id:\"addkeyword-string-keyword-object-definition-ajv\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#addkeyword-string-keyword-object-definition-ajv\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),s(\"a\",{attrs:{name:\"api-addkeyword\"}}),t._v(\".addKeyword(String keyword, Object definition) -> Ajv\")]),s(\"p\",[t._v(\"Add custom validation keyword to Ajv instance.\")]),s(\"p\",[t._v(\"Keyword should be different from all standard JSON schema keywords and different from previously defined keywords. There is no way to redefine keywords or to remove keyword definition from the instance.\")]),s(\"p\",[t._v(\"Keyword must start with a letter, \"),s(\"code\",[t._v(\"_\")]),t._v(\" or \"),s(\"code\",[t._v(\"$\")]),t._v(\", and may continue with letters, numbers, \"),s(\"code\",[t._v(\"_\")]),t._v(\", \"),s(\"code\",[t._v(\"$\")]),t._v(\", or \"),s(\"code\",[t._v(\"-\")]),t._v(\".\\nIt is recommended to use an application-specific prefix for keywords to avoid current and future name collisions.\")]),s(\"p\",[t._v(\"Example Keywords:\")]),s(\"ul\",[s(\"li\",[s(\"code\",[t._v('\"xyz-example\"')]),t._v(\": valid, and uses prefix for the xyz project to avoid name collisions.\")]),s(\"li\",[s(\"code\",[t._v('\"example\"')]),t._v(\": valid, but not recommended as it could collide with future versions of JSON schema etc.\")]),s(\"li\",[s(\"code\",[t._v('\"3-example\"')]),t._v(\": invalid as numbers are not allowed to be the first character in a keyword\")])]),s(\"p\",[t._v(\"Keyword definition is an object with the following properties:\")]),s(\"ul\",[s(\"li\",[s(\"em\",[t._v(\"type\")]),t._v(\": optional string or array of strings with data type(s) that the keyword applies to. If not present, the keyword will apply to all types.\")]),s(\"li\",[s(\"em\",[t._v(\"validate\")]),t._v(\": validating function\")]),s(\"li\",[s(\"em\",[t._v(\"compile\")]),t._v(\": compiling function\")]),s(\"li\",[s(\"em\",[t._v(\"macro\")]),t._v(\": macro function\")]),s(\"li\",[s(\"em\",[t._v(\"inline\")]),t._v(\": compiling function that returns code (as string)\")]),s(\"li\",[s(\"em\",[t._v(\"schema\")]),t._v(\": an optional \"),s(\"code\",[t._v(\"false\")]),t._v(' value used with \"validate\" keyword to not pass schema')]),s(\"li\",[s(\"em\",[t._v(\"metaSchema\")]),t._v(\": an optional meta-schema for keyword schema\")]),s(\"li\",[s(\"em\",[t._v(\"modifying\")]),t._v(\": \"),s(\"code\",[t._v(\"true\")]),t._v(\" MUST be passed if keyword modifies data\")]),s(\"li\",[s(\"em\",[t._v(\"valid\")]),t._v(\": pass \"),s(\"code\",[t._v(\"true\")]),t._v(\"/\"),s(\"code\",[t._v(\"false\")]),t._v(\" to pre-define validation result, the result returned from validation function will be ignored. This option cannot be used with macro keywords.\")]),s(\"li\",[s(\"em\",[t._v(\"$data\")]),t._v(\": an optional \"),s(\"code\",[t._v(\"true\")]),t._v(\" value to support \"),s(\"a\",{attrs:{href:\"#data-reference\"}},[t._v(\"$data reference\")]),t._v(\" as the value of custom keyword. The reference will be resolved at validation time. If the keyword has meta-schema it would be extended to allow $data and it will be used to validate the resolved value. Supporting $data reference requires that keyword has validating function (as the only option or in addition to compile, macro or inline function).\")]),s(\"li\",[s(\"em\",[t._v(\"async\")]),t._v(\": an optional \"),s(\"code\",[t._v(\"true\")]),t._v(\" value if the validation function is asynchronous (whether it is compiled or passed in \"),s(\"em\",[t._v(\"validate\")]),t._v(\" property); in this case it should return a promise that resolves with a value \"),s(\"code\",[t._v(\"true\")]),t._v(\" or \"),s(\"code\",[t._v(\"false\")]),t._v('. This option is ignored in case of \"macro\" and \"inline\" keywords.')]),s(\"li\",[s(\"em\",[t._v(\"errors\")]),t._v(\": an optional boolean indicating whether keyword returns errors. If this property is not set Ajv will determine if the errors were set in case of failed validation.\")])]),s(\"p\",[s(\"em\",[t._v(\"compile\")]),t._v(\", \"),s(\"em\",[t._v(\"macro\")]),t._v(\" and \"),s(\"em\",[t._v(\"inline\")]),t._v(\" are mutually exclusive, only one should be used at a time. \"),s(\"em\",[t._v(\"validate\")]),t._v(\" can be used separately or in addition to them to support $data reference.\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": If the keyword is validating data type that is different from the type(s) in its definition, the validation function will not be called (and expanded macro will not be used), so there is no need to check for data type inside validation function or inside schema returned by macro function (unless you want to enforce a specific type and for some reason do not want to use a separate \"),s(\"code\",[t._v(\"type\")]),t._v(\" keyword for that). In the same way as standard keywords work, if the keyword does not apply to the data type being validated, the validation of this keyword will succeed.\")]),s(\"p\",[t._v(\"See \"),s(\"a\",{attrs:{href:\"#defining-custom-keywords\"}},[t._v(\"Defining custom keywords\")]),t._v(\" for more details.\")]),s(\"h5\",{attrs:{id:\"getkeyword-string-keyword-object-boolean\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#getkeyword-string-keyword-object-boolean\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" .getKeyword(String keyword) -> Object|Boolean\")]),s(\"p\",[t._v(\"Returns custom keyword definition, \"),s(\"code\",[t._v(\"true\")]),t._v(\" for pre-defined keywords and \"),s(\"code\",[t._v(\"false\")]),t._v(\" if the keyword is unknown.\")]),s(\"h5\",{attrs:{id:\"removekeyword-string-keyword-ajv\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#removekeyword-string-keyword-ajv\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" .removeKeyword(String keyword) -> Ajv\")]),s(\"p\",[t._v(\"Removes custom or pre-defined keyword so you can redefine them.\")]),s(\"p\",[t._v(\"While this method can be used to extend pre-defined keywords, it can also be used to completely change their meaning - it may lead to unexpected results.\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": schemas compiled before the keyword is removed will continue to work without changes. To recompile schemas use \"),s(\"code\",[t._v(\"removeSchema\")]),t._v(\" method and compile them again.\")]),s(\"h5\",{attrs:{id:\"errorstext-array-object-errors-object-options-string\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#errorstext-array-object-errors-object-options-string\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" .errorsText([Array<Object> errors [, Object options]]) -> String\")]),s(\"p\",[t._v(\"Returns the text with all errors in a String.\")]),s(\"p\",[t._v(\"Options can have properties \"),s(\"code\",[t._v(\"separator\")]),t._v(' (string used to separate errors, \", \" by default) and '),s(\"code\",[t._v(\"dataVar\")]),t._v(' (the variable name that dataPaths are prefixed with, \"data\" by default).')]),s(\"h2\",{attrs:{id:\"options\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#options\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Options\")]),s(\"p\",[t._v(\"Defaults:\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// validation and reporting options:\")]),t._v(\"\\n  $data\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"            \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  allErrors\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"        \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  verbose\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"          \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  jsonPointers\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"     \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  uniqueItems\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"      \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  unicode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"          \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  format\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"           \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'fast'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  formats\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"          \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  unknownFormats\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"   \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  schemas\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"          \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  logger\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"           undefined\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// referenced schema options:\")]),t._v(\"\\n  schemaId\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"         undefined \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// recommended '$id'\")]),t._v(\"\\n  missingRefs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"      \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  extendRefs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"       \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ignore'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// recommended 'fail'\")]),t._v(\"\\n  loadSchema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"       undefined\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// function(uri: string): Promise {}\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// options to modify validated data:\")]),t._v(\"\\n  removeAdditional\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  useDefaults\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"      \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  coerceTypes\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"      \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// asynchronous validation options:\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"async\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"            \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'co*'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  transpile\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"        undefined\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// requires ajv-async package\")]),t._v(\"\\n  \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// advanced options:\")]),t._v(\"\\n  meta\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"             \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  validateSchema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"   \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  addUsedSchema\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"    \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  inlineRefs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"       \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  passContext\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"      \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  loopRequired\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"     \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"Infinity\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  ownProperties\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"    \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  multipleOfPrecision\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  errorDataPath\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"    \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'object'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  messages\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"         \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  sourceCode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"       \"),s(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"false\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  processCode\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"      undefined\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// function (str: string): string {}\")]),t._v(\"\\n  cache\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"            \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Cache\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  serialize\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"        undefined\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),s(\"h5\",{attrs:{id:\"validation-and-reporting-options\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#validation-and-reporting-options\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Validation and reporting options\")]),s(\"ul\",[s(\"li\",[s(\"em\",[t._v(\"$data\")]),t._v(\": support \"),s(\"a\",{attrs:{href:\"#data-reference\"}},[t._v(\"$data references\")]),t._v(\". Draft 6 meta-schema that is added by default will be extended to allow them. If you want to use another meta-schema you need to use $dataMetaSchema method to add support for $data reference. See \"),s(\"a\",{attrs:{href:\"#api\"}},[t._v(\"API\")]),t._v(\".\")]),s(\"li\",[s(\"em\",[t._v(\"allErrors\")]),t._v(\": check all rules collecting all errors. Default is to return after the first error.\")]),s(\"li\",[s(\"em\",[t._v(\"verbose\")]),t._v(\": include the reference to the part of the schema (\"),s(\"code\",[t._v(\"schema\")]),t._v(\" and \"),s(\"code\",[t._v(\"parentSchema\")]),t._v(\") and validated data in errors (false by default).\")]),s(\"li\",[s(\"em\",[t._v(\"jsonPointers\")]),t._v(\": set \"),s(\"code\",[t._v(\"dataPath\")]),t._v(\" property of errors using \"),s(\"a\",{attrs:{href:\"https://tools.ietf.org/html/rfc6901\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON Pointers\")]),t._v(\" instead of JavaScript property access notation.\")]),s(\"li\",[s(\"em\",[t._v(\"uniqueItems\")]),t._v(\": validate \"),s(\"code\",[t._v(\"uniqueItems\")]),t._v(\" keyword (true by default).\")]),s(\"li\",[s(\"em\",[t._v(\"unicode\")]),t._v(\": calculate correct length of strings with unicode pairs (true by default). Pass \"),s(\"code\",[t._v(\"false\")]),t._v(\" to use \"),s(\"code\",[t._v(\".length\")]),t._v(' of strings that is faster, but gives \"incorrect\" lengths of strings with unicode pairs - each unicode pair is counted as two characters.')]),s(\"li\",[s(\"em\",[t._v(\"format\")]),t._v(\": formats validation mode ('fast' by default). Pass 'full' for more correct and slow validation or \"),s(\"code\",[t._v(\"false\")]),t._v(\" not to validate formats at all. E.g., 25:00:00 and 2015/14/33 will be invalid time and date in 'full' mode but it will be valid in 'fast' mode.\")]),s(\"li\",[s(\"em\",[t._v(\"formats\")]),t._v(\": an object with custom formats. Keys and values will be passed to \"),s(\"code\",[t._v(\"addFormat\")]),t._v(\" method.\")]),s(\"li\",[s(\"em\",[t._v(\"unknownFormats\")]),t._v(\": handling of unknown formats. Option values:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"true\")]),t._v(\" (default) - if an unknown format is encountered the exception is thrown during schema compilation. If \"),s(\"code\",[t._v(\"format\")]),t._v(\" keyword value is \"),s(\"a\",{attrs:{href:\"#data-reference\"}},[t._v(\"$data reference\")]),t._v(\" and it is unknown the validation will fail.\")]),s(\"li\",[s(\"code\",[t._v(\"[String]\")]),t._v(\" - an array of unknown format names that will be ignored. This option can be used to allow usage of third party schemas with format(s) for which you don't have definitions, but still fail if another unknown format is used. If \"),s(\"code\",[t._v(\"format\")]),t._v(\" keyword value is \"),s(\"a\",{attrs:{href:\"#data-reference\"}},[t._v(\"$data reference\")]),t._v(\" and it is not in this array the validation will fail.\")]),s(\"li\",[s(\"code\",[t._v('\"ignore\"')]),t._v(\" - to log warning during schema compilation and always pass validation (the default behaviour in versions before 5.0.0). This option is not recommended, as it allows to mistype format name and it won't be validated without any error message. This behaviour is required by JSON-schema specification.\")])])]),s(\"li\",[s(\"em\",[t._v(\"schemas\")]),t._v(\": an array or object of schemas that will be added to the instance. In case you pass the array the schemas must have IDs in them. When the object is passed the method \"),s(\"code\",[t._v(\"addSchema(value, key)\")]),t._v(\" will be called for each schema in this object.\")]),s(\"li\",[s(\"em\",[t._v(\"logger\")]),t._v(\": sets the logging method. Default is the global \"),s(\"code\",[t._v(\"console\")]),t._v(\" object that should have methods \"),s(\"code\",[t._v(\"log\")]),t._v(\", \"),s(\"code\",[t._v(\"warn\")]),t._v(\" and \"),s(\"code\",[t._v(\"error\")]),t._v(\". Option values:\\n\"),s(\"ul\",[s(\"li\",[t._v(\"custom logger - it should have methods \"),s(\"code\",[t._v(\"log\")]),t._v(\", \"),s(\"code\",[t._v(\"warn\")]),t._v(\" and \"),s(\"code\",[t._v(\"error\")]),t._v(\". If any of these methods is missing an exception will be thrown.\")]),s(\"li\",[s(\"code\",[t._v(\"false\")]),t._v(\" - logging is disabled.\")])])])]),s(\"h5\",{attrs:{id:\"referenced-schema-options\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#referenced-schema-options\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Referenced schema options\")]),s(\"ul\",[s(\"li\",[s(\"em\",[t._v(\"schemaId\")]),t._v(\": this option defines which keywords are used as schema URI. Option value:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v('\"$id\"')]),t._v(\" (recommended) - only use \"),s(\"code\",[t._v(\"$id\")]),t._v(\" keyword as schema URI (as specified in JSON Schema draft-06), ignore \"),s(\"code\",[t._v(\"id\")]),t._v(\" keyword (if it is present a warning will be logged).\")]),s(\"li\",[s(\"code\",[t._v('\"id\"')]),t._v(\" - only use \"),s(\"code\",[t._v(\"id\")]),t._v(\" keyword as schema URI (as specified in JSON Schema draft-04), ignore \"),s(\"code\",[t._v(\"$id\")]),t._v(\" keyword (if it is present a warning will be logged).\")]),s(\"li\",[s(\"code\",[t._v(\"undefined\")]),t._v(\" (default) - use both \"),s(\"code\",[t._v(\"$id\")]),t._v(\" and \"),s(\"code\",[t._v(\"id\")]),t._v(\" keywords as schema URI. If both are present (in the same schema object) and different the exception will be thrown during schema compilation.\")])])]),s(\"li\",[s(\"em\",[t._v(\"missingRefs\")]),t._v(\": handling of missing referenced schemas. Option values:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"true\")]),t._v(\" (default) - if the reference cannot be resolved during compilation the exception is thrown. The thrown error has properties \"),s(\"code\",[t._v(\"missingRef\")]),t._v(\" (with hash fragment) and \"),s(\"code\",[t._v(\"missingSchema\")]),t._v(\" (without it). Both properties are resolved relative to the current base id (usually schema id, unless it was substituted).\")]),s(\"li\",[s(\"code\",[t._v('\"ignore\"')]),t._v(\" - to log error during compilation and always pass validation.\")]),s(\"li\",[s(\"code\",[t._v('\"fail\"')]),t._v(\" - to log error and successfully compile schema but fail validation if this rule is checked.\")])])]),s(\"li\",[s(\"em\",[t._v(\"extendRefs\")]),t._v(\": validation of other keywords when \"),s(\"code\",[t._v(\"$ref\")]),t._v(\" is present in the schema. Option values:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v('\"ignore\"')]),t._v(\" (default) - when \"),s(\"code\",[t._v(\"$ref\")]),t._v(\" is used other keywords are ignored (as per \"),s(\"a\",{attrs:{href:\"https://tools.ietf.org/html/draft-pbryan-zyp-json-ref-03#section-3\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON Reference\")]),t._v(\" standard). A warning will be logged during the schema compilation.\")]),s(\"li\",[s(\"code\",[t._v('\"fail\"')]),t._v(\" (recommended) - if other validation keywords are used together with \"),s(\"code\",[t._v(\"$ref\")]),t._v(\" the exception will be thrown when the schema is compiled. This option is recommended to make sure schema has no keywords that are ignored, which can be confusing.\")]),s(\"li\",[s(\"code\",[t._v(\"true\")]),t._v(\" - validate all keywords in the schemas with \"),s(\"code\",[t._v(\"$ref\")]),t._v(\" (the default behaviour in versions before 5.0.0).\")])])]),s(\"li\",[s(\"em\",[t._v(\"loadSchema\")]),t._v(\": asynchronous function that will be used to load remote schemas when \"),s(\"code\",[t._v(\"compileAsync\")]),s(\"a\",{attrs:{href:\"#api-compileAsync\"}},[t._v(\"method\")]),t._v(\" is used and some reference is missing (option \"),s(\"code\",[t._v(\"missingRefs\")]),t._v(\" should NOT be 'fail' or 'ignore'). This function should accept remote schema uri as a parameter and return a Promise that resolves to a schema. See example in \"),s(\"a\",{attrs:{href:\"#asynchronous-schema-compilation\"}},[t._v(\"Asynchronous compilation\")]),t._v(\".\")])]),s(\"h5\",{attrs:{id:\"options-to-modify-validated-data\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#options-to-modify-validated-data\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Options to modify validated data\")]),s(\"ul\",[s(\"li\",[s(\"em\",[t._v(\"removeAdditional\")]),t._v(\": remove additional properties - see example in \"),s(\"a\",{attrs:{href:\"#filtering-data\"}},[t._v(\"Filtering data\")]),t._v(\". This option is not used if schema is added with \"),s(\"code\",[t._v(\"addMetaSchema\")]),t._v(\" method. Option values:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"false\")]),t._v(\" (default) - not to remove additional properties\")]),s(\"li\",[s(\"code\",[t._v('\"all\"')]),t._v(\" - all additional properties are removed, regardless of \"),s(\"code\",[t._v(\"additionalProperties\")]),t._v(\" keyword in schema (and no validation is made for them).\")]),s(\"li\",[s(\"code\",[t._v(\"true\")]),t._v(\" - only additional properties with \"),s(\"code\",[t._v(\"additionalProperties\")]),t._v(\" keyword equal to \"),s(\"code\",[t._v(\"false\")]),t._v(\" are removed.\")]),s(\"li\",[s(\"code\",[t._v('\"failing\"')]),t._v(\" - additional properties that fail schema validation will be removed (where \"),s(\"code\",[t._v(\"additionalProperties\")]),t._v(\" keyword is \"),s(\"code\",[t._v(\"false\")]),t._v(\" or schema).\")])])]),s(\"li\",[s(\"em\",[t._v(\"useDefaults\")]),t._v(\": replace missing properties and items with the values from corresponding \"),s(\"code\",[t._v(\"default\")]),t._v(\" keywords. Default behaviour is to ignore \"),s(\"code\",[t._v(\"default\")]),t._v(\" keywords. This option is not used if schema is added with \"),s(\"code\",[t._v(\"addMetaSchema\")]),t._v(\" method. See examples in \"),s(\"a\",{attrs:{href:\"#assigning-defaults\"}},[t._v(\"Assigning defaults\")]),t._v(\". Option values:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"false\")]),t._v(\" (default) - do not use defaults\")]),s(\"li\",[s(\"code\",[t._v(\"true\")]),t._v(\" - insert defaults by value (safer and slower, object literal is used).\")]),s(\"li\",[s(\"code\",[t._v('\"shared\"')]),t._v(\" - insert defaults by reference (faster). If the default is an object, it will be shared by all instances of validated data. If you modify the inserted default in the validated data, it will be modified in the schema as well.\")])])]),s(\"li\",[s(\"em\",[t._v(\"coerceTypes\")]),t._v(\": change data type of data to match \"),s(\"code\",[t._v(\"type\")]),t._v(\" keyword. See the example in \"),s(\"a\",{attrs:{href:\"#coercing-data-types\"}},[t._v(\"Coercing data types\")]),t._v(\" and \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/COERCION.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"coercion rules\")]),t._v(\". Option values:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"false\")]),t._v(\" (default) - no type coercion.\")]),s(\"li\",[s(\"code\",[t._v(\"true\")]),t._v(\" - coerce scalar data types.\")]),s(\"li\",[s(\"code\",[t._v('\"array\"')]),t._v(\" - in addition to coercions between scalar types, coerce scalar data to an array with one element and vice versa (as required by the schema).\")])])])]),s(\"h5\",{attrs:{id:\"asynchronous-validation-options\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#asynchronous-validation-options\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Asynchronous validation options\")]),s(\"ul\",[s(\"li\",[s(\"p\",[s(\"em\",[t._v(\"async\")]),t._v(\": determines how Ajv compiles asynchronous schemas (see \"),s(\"a\",{attrs:{href:\"#asynchronous-validation\"}},[t._v(\"Asynchronous validation\")]),t._v(\") to functions. Option values:\")]),s(\"ul\",[s(\"li\",[s(\"code\",[t._v('\"*\"')]),t._v(\" / \"),s(\"code\",[t._v('\"co*\"')]),t._v(' (default) - compile to generator function (\"co*\" - wrapped with '),s(\"code\",[t._v(\"co.wrap\")]),t._v(\"). If generators are not supported and you don't provide \"),s(\"code\",[t._v(\"processCode\")]),t._v(\" option (or \"),s(\"code\",[t._v(\"transpile\")]),t._v(\" option if you use \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-async\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-async\")]),t._v(\" package), the exception will be thrown when async schema is compiled.\")]),s(\"li\",[s(\"code\",[t._v('\"es7\"')]),t._v(\" - compile to es7 async function. Unless your platform supports them you need to provide \"),s(\"code\",[t._v(\"processCode\")]),t._v(\" or \"),s(\"code\",[t._v(\"transpile\")]),t._v(\" option. According to \"),s(\"a\",{attrs:{href:\"http://kangax.github.io/compat-table/es7/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"compatibility table\")]),t._v(\") async functions are supported by:\\n\"),s(\"ul\",[s(\"li\",[t._v(\"Firefox 52,\")]),s(\"li\",[t._v(\"Chrome 55,\")]),s(\"li\",[t._v(\"Node.js 7 (with \"),s(\"code\",[t._v(\"--harmony-async-await\")]),t._v(\"),\")]),s(\"li\",[t._v(\"MS Edge 13 (with flag).\")])])]),s(\"li\",[s(\"code\",[t._v(\"undefined\")]),t._v(\"/\"),s(\"code\",[t._v(\"true\")]),t._v(\" - auto-detect async mode. It requires \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-async\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-async\")]),t._v(\" package. If \"),s(\"code\",[t._v(\"transpile\")]),t._v(\" option is not passed, ajv-async will choose the first of supported/installed async/transpile modes in this order:\\n\"),s(\"ul\",[s(\"li\",[t._v('\"es7\" (native async functions),')]),s(\"li\",[t._v('\"co*\" (native generators with co.wrap),')]),s(\"li\",[t._v('\"es7\"/\"nodent\",')]),s(\"li\",[t._v('\"co*\"/\"regenerator\" during the creation of the Ajv instance.')])])])]),s(\"p\",[t._v(\"If none of the options is available the exception will be thrown.\")])]),s(\"li\",[s(\"p\",[s(\"em\",[t._v(\"transpile\")]),t._v(\": Requires \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-async\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-async\")]),t._v(\" package. It determines whether Ajv transpiles compiled asynchronous validation function. Option values:\")]),s(\"ul\",[s(\"li\",[s(\"code\",[t._v('\"nodent\"')]),t._v(\" - transpile with \"),s(\"a\",{attrs:{href:\"https://github.com/MatAtBread/nodent\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"nodent\")]),t._v(\". If nodent is not installed, the exception will be thrown. nodent can only transpile es7 async functions; it will enforce this mode.\")]),s(\"li\",[s(\"code\",[t._v('\"regenerator\"')]),t._v(\" - transpile with \"),s(\"a\",{attrs:{href:\"https://github.com/facebook/regenerator\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"regenerator\")]),t._v(\". If regenerator is not installed, the exception will be thrown.\")]),s(\"li\",[t._v(\"a function - this function should accept the code of validation function as a string and return transpiled code. This option allows you to use any other transpiler you prefer. If you are passing a function, you can simply pass it to \"),s(\"code\",[t._v(\"processCode\")]),t._v(\" option without using ajv-async.\")])])])]),s(\"h5\",{attrs:{id:\"advanced-options\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#advanced-options\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Advanced options\")]),s(\"ul\",[s(\"li\",[s(\"em\",[t._v(\"meta\")]),t._v(\": add \"),s(\"a\",{attrs:{href:\"http://json-schema.org/documentation.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"meta-schema\")]),t._v(\" so it can be used by other schemas (true by default). If an object is passed, it will be used as the default meta-schema for schemas that have no \"),s(\"code\",[t._v(\"$schema\")]),t._v(\" keyword. This default meta-schema MUST have \"),s(\"code\",[t._v(\"$schema\")]),t._v(\" keyword.\")]),s(\"li\",[s(\"em\",[t._v(\"validateSchema\")]),t._v(\": validate added/compiled schemas against meta-schema (true by default). \"),s(\"code\",[t._v(\"$schema\")]),t._v(\" property in the schema can either be http://json-schema.org/schema or http://json-schema.org/draft-04/schema or absent (draft-4 meta-schema will be used) or can be a reference to the schema previously added with \"),s(\"code\",[t._v(\"addMetaSchema\")]),t._v(\" method. Option values:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"true\")]),t._v(\" (default) -  if the validation fails, throw the exception.\")]),s(\"li\",[s(\"code\",[t._v('\"log\"')]),t._v(\" - if the validation fails, log error.\")]),s(\"li\",[s(\"code\",[t._v(\"false\")]),t._v(\" - skip schema validation.\")])])]),s(\"li\",[s(\"em\",[t._v(\"addUsedSchema\")]),t._v(\": by default methods \"),s(\"code\",[t._v(\"compile\")]),t._v(\" and \"),s(\"code\",[t._v(\"validate\")]),t._v(\" add schemas to the instance if they have \"),s(\"code\",[t._v(\"$id\")]),t._v(\" (or \"),s(\"code\",[t._v(\"id\")]),t._v(') property that doesn\\'t start with \"#\". If '),s(\"code\",[t._v(\"$id\")]),t._v(\" is present and it is not unique the exception will be thrown. Set this option to \"),s(\"code\",[t._v(\"false\")]),t._v(\" to skip adding schemas to the instance and the \"),s(\"code\",[t._v(\"$id\")]),t._v(\" uniqueness check when these methods are used. This option does not affect \"),s(\"code\",[t._v(\"addSchema\")]),t._v(\" method.\")]),s(\"li\",[s(\"em\",[t._v(\"inlineRefs\")]),t._v(\": Affects compilation of referenced schemas. Option values:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"true\")]),t._v(\" (default) - the referenced schemas that don't have refs in them are inlined, regardless of their size - that substantially improves performance at the cost of the bigger size of compiled schema functions.\")]),s(\"li\",[s(\"code\",[t._v(\"false\")]),t._v(\" - to not inline referenced schemas (they will be compiled as separate functions).\")]),s(\"li\",[t._v(\"integer number - to limit the maximum number of keywords of the schema that will be inlined.\")])])]),s(\"li\",[s(\"em\",[t._v(\"passContext\")]),t._v(\": pass validation context to custom keyword functions. If this option is \"),s(\"code\",[t._v(\"true\")]),t._v(\" and you pass some context to the compiled validation function with \"),s(\"code\",[t._v(\"validate.call(context, data)\")]),t._v(\", the \"),s(\"code\",[t._v(\"context\")]),t._v(\" will be available as \"),s(\"code\",[t._v(\"this\")]),t._v(\" in your custom keywords. By default \"),s(\"code\",[t._v(\"this\")]),t._v(\" is Ajv instance.\")]),s(\"li\",[s(\"em\",[t._v(\"loopRequired\")]),t._v(\": by default \"),s(\"code\",[t._v(\"required\")]),t._v(\" keyword is compiled into a single expression (or a sequence of statements in \"),s(\"code\",[t._v(\"allErrors\")]),t._v(\" mode). In case of a very large number of properties in this keyword it may result in a very big validation function. Pass integer to set the number of properties above which \"),s(\"code\",[t._v(\"required\")]),t._v(\" keyword will be validated in a loop - smaller validation function size but also worse performance.\")]),s(\"li\",[s(\"em\",[t._v(\"ownProperties\")]),t._v(\": by default Ajv iterates over all enumerable object properties; when this option is \"),s(\"code\",[t._v(\"true\")]),t._v(\" only own enumerable object properties (i.e. found directly on the object rather than on its prototype) are iterated. Contributed by @mbroadst.\")]),s(\"li\",[s(\"em\",[t._v(\"multipleOfPrecision\")]),t._v(\": by default \"),s(\"code\",[t._v(\"multipleOf\")]),t._v(\" keyword is validated by comparing the result of division with parseInt() of that result. It works for dividers that are bigger than 1. For small dividers such as 0.01 the result of the division is usually not integer (even when it should be integer, see issue \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/issues/84\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"#84\")]),t._v(\"). If you need to use fractional dividers set this option to some positive integer N to have \"),s(\"code\",[t._v(\"multipleOf\")]),t._v(\" validated using this formula: \"),s(\"code\",[t._v(\"Math.abs(Math.round(division) - division) < 1e-N\")]),t._v(\" (it is slower but allows for float arithmetics deviations).\")]),s(\"li\",[s(\"em\",[t._v(\"errorDataPath\")]),t._v(\": set \"),s(\"code\",[t._v(\"dataPath\")]),t._v(\" to point to 'object' (default) or to 'property' when validating keywords \"),s(\"code\",[t._v(\"required\")]),t._v(\", \"),s(\"code\",[t._v(\"additionalProperties\")]),t._v(\" and \"),s(\"code\",[t._v(\"dependencies\")]),t._v(\".\")]),s(\"li\",[s(\"em\",[t._v(\"messages\")]),t._v(\": Include human-readable messages in errors. \"),s(\"code\",[t._v(\"true\")]),t._v(\" by default. \"),s(\"code\",[t._v(\"false\")]),t._v(\" can be passed when custom messages are used (e.g. with \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-i18n\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-i18n\")]),t._v(\").\")]),s(\"li\",[s(\"em\",[t._v(\"sourceCode\")]),t._v(\": add \"),s(\"code\",[t._v(\"sourceCode\")]),t._v(\" property to validating function (for debugging; this code can be different from the result of toString call).\")]),s(\"li\",[s(\"em\",[t._v(\"processCode\")]),t._v(\": an optional function to process generated code before it is passed to Function constructor. It can be used to either beautify (the validating function is generated without line-breaks) or to transpile code. Starting from version 5.0.0 this option replaced options:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"beautify\")]),t._v(\" that formatted the generated function using \"),s(\"a\",{attrs:{href:\"https://github.com/beautify-web/js-beautify\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"js-beautify\")]),t._v(\". If you want to beautify the generated code pass \"),s(\"code\",[t._v(\"require('js-beautify').js_beautify\")]),t._v(\".\")]),s(\"li\",[s(\"code\",[t._v(\"transpile\")]),t._v(\" that transpiled asynchronous validation function. You can still use \"),s(\"code\",[t._v(\"transpile\")]),t._v(\" option with \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-async\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-async\")]),t._v(\" package. See \"),s(\"a\",{attrs:{href:\"#asynchronous-validation\"}},[t._v(\"Asynchronous validation\")]),t._v(\" for more information.\")])])]),s(\"li\",[s(\"em\",[t._v(\"cache\")]),t._v(\": an optional instance of cache to store compiled schemas using stable-stringified schema as a key. For example, set-associative cache \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/sacjs\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"sacjs\")]),t._v(\" can be used. If not passed then a simple hash is used which is good enough for the common use case (a limited number of statically defined schemas). Cache should have methods \"),s(\"code\",[t._v(\"put(key, value)\")]),t._v(\", \"),s(\"code\",[t._v(\"get(key)\")]),t._v(\", \"),s(\"code\",[t._v(\"del(key)\")]),t._v(\" and \"),s(\"code\",[t._v(\"clear()\")]),t._v(\".\")]),s(\"li\",[s(\"em\",[t._v(\"serialize\")]),t._v(\": an optional function to serialize schema to cache key. Pass \"),s(\"code\",[t._v(\"false\")]),t._v(\" to use schema itself as a key (e.g., if WeakMap used as a cache). By default \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/fast-json-stable-stringify\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"fast-json-stable-stringify\")]),t._v(\" is used.\")])]),s(\"h2\",{attrs:{id:\"validation-errors\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#validation-errors\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Validation errors\")]),s(\"p\",[t._v(\"In case of validation failure, Ajv assigns the array of errors to \"),s(\"code\",[t._v(\"errors\")]),t._v(\" property of validation function (or to \"),s(\"code\",[t._v(\"errors\")]),t._v(\" property of Ajv instance when \"),s(\"code\",[t._v(\"validate\")]),t._v(\" or \"),s(\"code\",[t._v(\"validateSchema\")]),t._v(\" methods were called). In case of \"),s(\"a\",{attrs:{href:\"#asynchronous-validation\"}},[t._v(\"asynchronous validation\")]),t._v(\", the returned promise is rejected with exception \"),s(\"code\",[t._v(\"Ajv.ValidationError\")]),t._v(\" that has \"),s(\"code\",[t._v(\"errors\")]),t._v(\" property.\")]),s(\"h3\",{attrs:{id:\"error-objects\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#error-objects\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Error objects\")]),s(\"p\",[t._v(\"Each error is an object with the following properties:\")]),s(\"ul\",[s(\"li\",[s(\"em\",[t._v(\"keyword\")]),t._v(\": validation keyword.\")]),s(\"li\",[s(\"em\",[t._v(\"dataPath\")]),t._v(\": the path to the part of the data that was validated. By default \"),s(\"code\",[t._v(\"dataPath\")]),t._v(\" uses JavaScript property access notation (e.g., \"),s(\"code\",[t._v('\".prop[1].subProp\"')]),t._v(\"). When the option \"),s(\"code\",[t._v(\"jsonPointers\")]),t._v(\" is true (see \"),s(\"a\",{attrs:{href:\"#options\"}},[t._v(\"Options\")]),t._v(\") \"),s(\"code\",[t._v(\"dataPath\")]),t._v(\" will be set using JSON pointer standard (e.g., \"),s(\"code\",[t._v('\"/prop/1/subProp\"')]),t._v(\").\")]),s(\"li\",[s(\"em\",[t._v(\"schemaPath\")]),t._v(\": the path (JSON-pointer as a URI fragment) to the schema of the keyword that failed validation.\")]),s(\"li\",[s(\"em\",[t._v(\"params\")]),t._v(\": the object with the additional information about error that can be used to create custom error messages (e.g., using \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-i18n\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-i18n\")]),t._v(\" package). See below for parameters set by all keywords.\")]),s(\"li\",[s(\"em\",[t._v(\"message\")]),t._v(\": the standard error message (can be excluded with option \"),s(\"code\",[t._v(\"messages\")]),t._v(\" set to false).\")]),s(\"li\",[s(\"em\",[t._v(\"schema\")]),t._v(\": the schema of the keyword (added with \"),s(\"code\",[t._v(\"verbose\")]),t._v(\" option).\")]),s(\"li\",[s(\"em\",[t._v(\"parentSchema\")]),t._v(\": the schema containing the keyword (added with \"),s(\"code\",[t._v(\"verbose\")]),t._v(\" option)\")]),s(\"li\",[s(\"em\",[t._v(\"data\")]),t._v(\": the data validated by the keyword (added with \"),s(\"code\",[t._v(\"verbose\")]),t._v(\" option).\")])]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": \"),s(\"code\",[t._v(\"propertyNames\")]),t._v(\" keyword schema validation errors have an additional property \"),s(\"code\",[t._v(\"propertyName\")]),t._v(\", \"),s(\"code\",[t._v(\"dataPath\")]),t._v(\" points to the object. After schema validation for each property name, if it is invalid an additional error is added with the property \"),s(\"code\",[t._v(\"keyword\")]),t._v(\" equal to \"),s(\"code\",[t._v('\"propertyNames\"')]),t._v(\".\")]),s(\"h3\",{attrs:{id:\"error-parameters\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#error-parameters\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Error parameters\")]),s(\"p\",[t._v(\"Properties of \"),s(\"code\",[t._v(\"params\")]),t._v(\" object in errors depend on the keyword that failed validation.\")]),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"maxItems\")]),t._v(\", \"),s(\"code\",[t._v(\"minItems\")]),t._v(\", \"),s(\"code\",[t._v(\"maxLength\")]),t._v(\", \"),s(\"code\",[t._v(\"minLength\")]),t._v(\", \"),s(\"code\",[t._v(\"maxProperties\")]),t._v(\", \"),s(\"code\",[t._v(\"minProperties\")]),t._v(\" - property \"),s(\"code\",[t._v(\"limit\")]),t._v(\" (number, the schema of the keyword).\")]),s(\"li\",[s(\"code\",[t._v(\"additionalItems\")]),t._v(\" - property \"),s(\"code\",[t._v(\"limit\")]),t._v(\" (the maximum number of allowed items in case when \"),s(\"code\",[t._v(\"items\")]),t._v(\" keyword is an array of schemas and \"),s(\"code\",[t._v(\"additionalItems\")]),t._v(\" is false).\")]),s(\"li\",[s(\"code\",[t._v(\"additionalProperties\")]),t._v(\" - property \"),s(\"code\",[t._v(\"additionalProperty\")]),t._v(\" (the property not used in \"),s(\"code\",[t._v(\"properties\")]),t._v(\" and \"),s(\"code\",[t._v(\"patternProperties\")]),t._v(\" keywords).\")]),s(\"li\",[s(\"code\",[t._v(\"dependencies\")]),t._v(\" - properties:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"property\")]),t._v(\" (dependent property),\")]),s(\"li\",[s(\"code\",[t._v(\"missingProperty\")]),t._v(\" (required missing dependency - only the first one is reported currently)\")]),s(\"li\",[s(\"code\",[t._v(\"deps\")]),t._v(\" (required dependencies, comma separated list as a string),\")]),s(\"li\",[s(\"code\",[t._v(\"depsCount\")]),t._v(\" (the number of required dependencies).\")])])]),s(\"li\",[s(\"code\",[t._v(\"format\")]),t._v(\" - property \"),s(\"code\",[t._v(\"format\")]),t._v(\" (the schema of the keyword).\")]),s(\"li\",[s(\"code\",[t._v(\"maximum\")]),t._v(\", \"),s(\"code\",[t._v(\"minimum\")]),t._v(\" - properties:\\n\"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"limit\")]),t._v(\" (number, the schema of the keyword),\")]),s(\"li\",[s(\"code\",[t._v(\"exclusive\")]),t._v(\" (boolean, the schema of \"),s(\"code\",[t._v(\"exclusiveMaximum\")]),t._v(\" or \"),s(\"code\",[t._v(\"exclusiveMinimum\")]),t._v(\"),\")]),s(\"li\",[s(\"code\",[t._v(\"comparison\")]),t._v(' (string, comparison operation to compare the data to the limit, with the data on the left and the limit on the right; can be \"<\", \"<=\", \">\", \">=\")')])])]),s(\"li\",[s(\"code\",[t._v(\"multipleOf\")]),t._v(\" - property \"),s(\"code\",[t._v(\"multipleOf\")]),t._v(\" (the schema of the keyword)\")]),s(\"li\",[s(\"code\",[t._v(\"pattern\")]),t._v(\" - property \"),s(\"code\",[t._v(\"pattern\")]),t._v(\" (the schema of the keyword)\")]),s(\"li\",[s(\"code\",[t._v(\"required\")]),t._v(\" - property \"),s(\"code\",[t._v(\"missingProperty\")]),t._v(\" (required property that is missing).\")]),s(\"li\",[s(\"code\",[t._v(\"propertyNames\")]),t._v(\" - property \"),s(\"code\",[t._v(\"propertyName\")]),t._v(\" (an invalid property name).\")]),s(\"li\",[s(\"code\",[t._v(\"patternRequired\")]),t._v(\" (in ajv-keywords) - property \"),s(\"code\",[t._v(\"missingPattern\")]),t._v(\" (required pattern that did not match any property).\")]),s(\"li\",[s(\"code\",[t._v(\"type\")]),t._v(\" - property \"),s(\"code\",[t._v(\"type\")]),t._v(\" (required type(s), a string, can be a comma-separated list)\")]),s(\"li\",[s(\"code\",[t._v(\"uniqueItems\")]),t._v(\" - properties \"),s(\"code\",[t._v(\"i\")]),t._v(\" and \"),s(\"code\",[t._v(\"j\")]),t._v(\" (indices of duplicate items).\")]),s(\"li\",[s(\"code\",[t._v(\"enum\")]),t._v(\" - property \"),s(\"code\",[t._v(\"allowedValues\")]),t._v(\" pointing to the array of values (the schema of the keyword).\")]),s(\"li\",[s(\"code\",[t._v(\"$ref\")]),t._v(\" - property \"),s(\"code\",[t._v(\"ref\")]),t._v(\" with the referenced schema URI.\")]),s(\"li\",[t._v(\"custom keywords (in case keyword definition doesn't create errors) - property \"),s(\"code\",[t._v(\"keyword\")]),t._v(\" (the keyword name).\")])]),s(\"h2\",{attrs:{id:\"related-packages\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#related-packages\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Related packages\")]),s(\"ul\",[s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-async\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-async\")]),t._v(\" - configure async validation mode\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/jessedc/ajv-cli\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-cli\")]),t._v(\" - command line interface\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-errors\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-errors\")]),t._v(\" - custom error messages\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-i18n\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-i18n\")]),t._v(\" - internationalised error messages\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-istanbul\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-istanbul\")]),t._v(\" - instrument generated validation code to measure test coverage of your schemas\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-keywords\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-keywords\")]),t._v(\" - custom validation keywords (if/then/else, select, typeof, etc.)\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-merge-patch\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-merge-patch\")]),t._v(\" - keywords$merge and $patch\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv-pack\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ajv-pack\")]),t._v(\" - produces a compact module exporting validation functions\")])]),s(\"h2\",{attrs:{id:\"some-packages-using-ajv\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#some-packages-using-ajv\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Some packages using Ajv\")]),s(\"ul\",[s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/webpack/webpack\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"webpack\")]),t._v(\" - a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/JSONScript/jsonscript-js\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"jsonscript-js\")]),t._v(\" - the interpreter for \"),s(\"a\",{attrs:{href:\"http://www.jsonscript.org\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSONScript\")]),t._v(\" - scripted processing of existing endpoints and services\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/mulesoft-labs/osprey-method-handler\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"osprey-method-handler\")]),t._v(\" - Express middleware for validating requests and responses based on a RAML method object, used in \"),s(\"a\",{attrs:{href:\"https://github.com/mulesoft/osprey\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"osprey\")]),t._v(\" - validating API proxy generated from a RAML definition\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/ahmadnassri/har-validator\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"har-validator\")]),t._v(\" - HTTP Archive (HAR) validator\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/josdejong/jsoneditor\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"jsoneditor\")]),t._v(\" - a web-based tool to view, edit, format, and validate JSON http://jsoneditoronline.org\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/nickcmaynard/jsonschemalint\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JSON Schema Lint\")]),t._v(\" - a web tool to validate JSON/YAML document against a single JSON-schema http://jsonschemalint.com\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/vincit/objection.js\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"objection\")]),t._v(\" - SQL-friendly ORM for Node.js\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/gajus/table\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"table\")]),t._v(\" - formats data into a string table\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/ripple/ripple-lib\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ripple-lib\")]),t._v(\" - a JavaScript API for interacting with \"),s(\"a\",{attrs:{href:\"https://ripple.com\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Ripple\")]),t._v(\" in Node.js and the browser\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/wikimedia/restbase\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"restbase\")]),t._v(\" - distributed storage with REST API & dispatcher for backend services built to provide a low-latency & high-throughput API for Wikipedia / Wikimedia content\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/CacheControl/hippie-swagger\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"hippie-swagger\")]),t._v(\" - \"),s(\"a\",{attrs:{href:\"https://github.com/vesln/hippie\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Hippie\")]),t._v(\" wrapper that provides end to end API testing with swagger validation\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/seeden/react-form-controlled\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"react-form-controlled\")]),t._v(\" - React controlled form components with validation\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/tjmehta/rabbitmq-schema\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"rabbitmq-schema\")]),t._v(\" - a schema definition module for RabbitMQ graphs and messages\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://www.npmjs.com/package/@query/schema\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"@query/schema\")]),t._v(\" - stream filtering with a URI-safe query syntax parsing to JSON Schema\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/peon374/chai-ajv-json-schema\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"chai-ajv-json-schema\")]),t._v(\" - chai plugin to us JSON-schema with expect in mocha tests\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/SignpostMarv/grunt-jsonschema-ajv\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"grunt-jsonschema-ajv\")]),t._v(\" - Grunt plugin for validating files against JSON Schema\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/webpack-contrib/extract-text-webpack-plugin\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"extract-text-webpack-plugin\")]),t._v(\" - extract text from bundle into a file\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/electron-userland/electron-builder\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"electron-builder\")]),t._v(\" - a solution to package and build a ready for distribution Electron app\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/mozilla/addons-linter\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"addons-linter\")]),t._v(\" - Mozilla Add-ons Linter\")]),s(\"li\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/gh-pages-generator\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"gh-pages-generator\")]),t._v(\" - multi-page site generator converting markdown files to GitHub pages\")])]),s(\"h2\",{attrs:{id:\"tests\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#tests\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Tests\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"npm install\\ngit submodule update --init\\nnpm test\\n\")])]),s(\"h2\",{attrs:{id:\"contributing\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#contributing\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Contributing\")]),s(\"p\",[t._v(\"All validation functions are generated using doT templates in \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/tree/master/lib/dot\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"dot\")]),t._v(\" folder. Templates are precompiled so doT is not a run-time dependency.\")]),s(\"p\",[s(\"code\",[t._v(\"npm run build\")]),t._v(\" - compiles templates to \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/tree/master/lib/dotjs\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"dotjs\")]),t._v(\" folder.\")]),s(\"p\",[s(\"code\",[t._v(\"npm run watch\")]),t._v(\" - automatically compiles templates when files in dot folder change\")]),s(\"p\",[t._v(\"Please see \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/CONTRIBUTING.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Contributing guidelines\")])]),s(\"h2\",{attrs:{id:\"changes-history\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#changes-history\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Changes history\")]),s(\"p\",[t._v(\"See https://github.com/epoberezkin/ajv/releases\")]),s(\"p\",[s(\"strong\",[t._v(\"Please note\")]),t._v(\": \"),s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/releases/tag/5.0.0\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Changes in version 5.0.0\")]),t._v(\".\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/releases/tag/4.6.0\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Changes in version 4.6.0\")]),t._v(\".\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/releases/tag/4.0.0\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Changes in version 4.0.0\")]),t._v(\".\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/releases/tag/3.0.0\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Changes in version 3.0.0\")]),t._v(\".\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/releases/tag/2.0.0\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Changes in version 2.0.0\")]),t._v(\".\")]),s(\"h2\",{attrs:{id:\"license\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#license\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" License\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://github.com/epoberezkin/ajv/blob/master/LICENSE\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"MIT\")])])])}],!1,null,null,null);a.default=n.exports}}]);","extractedComments":[]}