{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{184:function(t,n,s){\"use strict\";s.r(n);var a=s(0),e=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,n=t.$createElement,s=t._self._c||n;return s(\"div\",{staticClass:\"content\"},[s(\"h2\",{attrs:{id:\"pure-js-character-encoding-conversion\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#pure-js-character-encoding-conversion\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Pure JS character encoding conversion \"),s(\"a\",{attrs:{href:\"https://travis-ci.org/ashtuchkin/iconv-lite\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://travis-ci.org/ashtuchkin/iconv-lite.svg?branch=master\",alt:\"Build Status\"}})])]),s(\"ul\",[s(\"li\",[t._v(\"Doesn't need native code compilation. Works on Windows and in sandboxed environments like \"),s(\"a\",{attrs:{href:\"http://c9.io\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Cloud9\")]),t._v(\".\")]),s(\"li\",[t._v(\"Used in popular projects like \"),s(\"a\",{attrs:{href:\"https://github.com/expressjs/body-parser\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Express.js (body_parser)\")]),t._v(\",\\n\"),s(\"a\",{attrs:{href:\"http://gruntjs.com/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Grunt\")]),t._v(\", \"),s(\"a\",{attrs:{href:\"http://www.nodemailer.com/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Nodemailer\")]),t._v(\", \"),s(\"a\",{attrs:{href:\"http://yeoman.io/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Yeoman\")]),t._v(\" and others.\")]),s(\"li\",[t._v(\"Faster than \"),s(\"a\",{attrs:{href:\"https://github.com/bnoordhuis/node-iconv\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"node-iconv\")]),t._v(\" (see below for performance comparison).\")]),s(\"li\",[t._v(\"Intuitive encode/decode API\")]),s(\"li\",[t._v(\"Streaming support for Node v0.10+\")]),s(\"li\",[t._v(\"[Deprecated] Can extend Node.js primitives (buffers, streams) to support all iconv-lite encodings.\")]),s(\"li\",[t._v(\"In-browser usage via \"),s(\"a\",{attrs:{href:\"https://github.com/substack/node-browserify\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Browserify\")]),t._v(\" (~180k gzip compressed with Buffer shim included).\")]),s(\"li\",[t._v(\"Typescript \"),s(\"a\",{attrs:{href:\"https://github.com/ashtuchkin/iconv-lite/blob/master/lib/index.d.ts\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"type definition file\")]),t._v(\" included.\")]),s(\"li\",[t._v(\"License: MIT.\")])]),s(\"p\",[s(\"a\",{attrs:{href:\"https://npmjs.org/packages/iconv-lite/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://nodei.co/npm/iconv-lite.png?downloads=true&downloadRank=true\",alt:\"NPM Stats\"}})])]),s(\"h2\",{attrs:{id:\"usage\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#usage\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Usage\")]),s(\"h3\",{attrs:{id:\"basic-api\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#basic-api\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Basic API\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" iconv \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'iconv-lite'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Convert from an encoded buffer to js string.\")]),t._v(\"\\nstr \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" iconv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"decode\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Buffer\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"0x68\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"0x65\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"0x6c\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"0x6c\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token number\"}},[t._v(\"0x6f\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'win1251'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Convert from js string to an encoded buffer.\")]),t._v(\"\\nbuf \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" iconv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"encode\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"Sample input string\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'win1251'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Check if encoding is supported\")]),t._v(\"\\niconv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"encodingExists\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"us-ascii\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),s(\"h3\",{attrs:{id:\"streaming-api-node-v0-10\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#streaming-api-node-v0-10\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Streaming API (Node v0.10+)\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Decode stream (from binary stream to js strings)\")]),t._v(\"\\nhttp\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createServer\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" converterStream \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" iconv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"decodeStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'win1251'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    req\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"converterStream\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n    converterStream\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"on\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'data'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"str\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        console\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"str\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Do something with decoded strings, chunk-by-chunk.\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Convert encoding streaming example\")]),t._v(\"\\nfs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'file-in-win1251.txt'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"iconv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"decodeStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'win1251'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"iconv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"encodeStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'ucs2'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createWriteStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'file-in-ucs2.txt'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Sugar: all encode/decode streams have .collect(cb) method to accumulate data.\")]),t._v(\"\\nhttp\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createServer\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    req\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pipe\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"iconv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"decodeStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'win1251'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"collect\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"assert\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"typeof\")]),t._v(\" body \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"==\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'string'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        console\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"body\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// full request body string\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"h3\",{attrs:{id:\"deprecated-extend-node-js-own-encodings\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#deprecated-extend-node-js-own-encodings\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" [Deprecated] Extend Node.js own encodings\")]),s(\"blockquote\",[s(\"p\",[t._v(\"NOTE: This doesn't work on latest Node versions. See \"),s(\"a\",{attrs:{href:\"https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"details\")]),t._v(\".\")])]),s(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// After this call all Node basic primitives will understand iconv-lite encodings.\")]),t._v(\"\\niconv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"extendNodeEncodings\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// Examples:\")]),t._v(\"\\nbuf \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Buffer\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"str\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'win1251'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nbuf\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"write\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"str\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'gbk'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nstr \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" buf\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"toString\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'latin1'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"assert\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"Buffer\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"isEncoding\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'iso-8859-15'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\nBuffer\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"byteLength\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"str\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'us-ascii'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nhttp\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createServer\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"req\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" res\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    req\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setEncoding\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'big5'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    req\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"collect\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"err\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" body\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        console\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"body\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\nfs\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"createReadStream\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"file.txt\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"shift_jis\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// External modules are also supported (if they use Node primitives, which they probably do).\")]),t._v(\"\\nrequest \"),s(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"require\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'request'\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"request\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    url\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"http://github.com/\"')]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \\n    encoding\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token string\"}},[t._v('\"cp932\"')]),t._v(\"\\n\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"// To remove extensions\")]),t._v(\"\\niconv\"),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"undoExtendNodeEncodings\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),s(\"h2\",{attrs:{id:\"supported-encodings\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#supported-encodings\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Supported encodings\")]),s(\"ul\",[s(\"li\",[t._v(\"All node.js native encodings: utf8, ucs2 / utf16-le, ascii, binary, base64, hex.\")]),s(\"li\",[t._v(\"Additional unicode encodings: utf16, utf16-be, utf-7, utf-7-imap.\")]),s(\"li\",[t._v(\"All widespread singlebyte encodings: Windows 125x family, ISO-8859 family,\\nIBM/DOS codepages, Macintosh family, KOI8 family, all others supported by iconv library.\\nAliases like 'latin1', 'us-ascii' also supported.\")]),s(\"li\",[t._v(\"All widespread multibyte encodings: CP932, CP936, CP949, CP950, GB2313, GBK, GB18030, Big5, Shift_JIS, EUC-JP.\")])]),s(\"p\",[t._v(\"See \"),s(\"a\",{attrs:{href:\"https://github.com/ashtuchkin/iconv-lite/wiki/Supported-Encodings\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"all supported encodings on wiki\")]),t._v(\".\")]),s(\"p\",[t._v(\"Most singlebyte encodings are generated automatically from \"),s(\"a\",{attrs:{href:\"https://github.com/bnoordhuis/node-iconv\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"node-iconv\")]),t._v(\". Thank you Ben Noordhuis and libiconv authors!\")]),s(\"p\",[t._v(\"Multibyte encodings are generated from \"),s(\"a\",{attrs:{href:\"http://www.unicode.org/Public/MAPPINGS/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Unicode.org mappings\")]),t._v(\" and \"),s(\"a\",{attrs:{href:\"http://encoding.spec.whatwg.org/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"WHATWG Encoding Standard mappings\")]),t._v(\". Thank you, respective authors!\")]),s(\"h2\",{attrs:{id:\"encoding-decoding-speed\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#encoding-decoding-speed\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Encoding/decoding speed\")]),s(\"p\",[t._v(\"Comparison with node-iconv module (1000x256kb, on MacBook Pro, Core i5/2.6 GHz, Node v0.12.0).\\nNote: your results may vary, so please always check on your hardware.\")]),s(\"pre\",[s(\"code\",[t._v(\"operation             iconv@2.1.4   iconv-lite@0.4.7\\n----------------------------------------------------------\\nencode('win1251')     ~96 Mb/s      ~320 Mb/s\\ndecode('win1251')     ~95 Mb/s      ~246 Mb/s\\n\")])]),s(\"h2\",{attrs:{id:\"bom-handling\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#bom-handling\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" BOM handling\")]),s(\"ul\",[s(\"li\",[t._v(\"Decoding: BOM is stripped by default, unless overridden by passing \"),s(\"code\",[t._v(\"stripBOM: false\")]),t._v(\" in options\\n(f.ex. \"),s(\"code\",[t._v(\"iconv.decode(buf, enc, {stripBOM: false})\")]),t._v(\").\\nA callback might also be given as a \"),s(\"code\",[t._v(\"stripBOM\")]),t._v(\" parameter - it'll be called if BOM character was actually found.\")]),s(\"li\",[t._v(\"If you want to detect UTF-8 BOM when decoding other encodings, use \"),s(\"a\",{attrs:{href:\"https://github.com/danielgindi/node-autodetect-decoder-stream\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"node-autodetect-decoder-stream\")]),t._v(\" module.\")]),s(\"li\",[t._v(\"Encoding: No BOM added, unless overridden by \"),s(\"code\",[t._v(\"addBOM: true\")]),t._v(\" option.\")])]),s(\"h2\",{attrs:{id:\"utf-16-encodings\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#utf-16-encodings\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" UTF-16 Encodings\")]),s(\"p\",[t._v(\"This library supports UTF-16LE, UTF-16BE and UTF-16 encodings. First two are straightforward, but UTF-16 is trying to be\\nsmart about endianness in the following ways:\")]),s(\"ul\",[s(\"li\",[t._v(\"Decoding: uses BOM and 'spaces heuristic' to determine input endianness. Default is UTF-16LE, but can be\\noverridden with \"),s(\"code\",[t._v(\"defaultEncoding: 'utf-16be'\")]),t._v(\" option. Strips BOM unless \"),s(\"code\",[t._v(\"stripBOM: false\")]),t._v(\".\")]),s(\"li\",[t._v(\"Encoding: uses UTF-16LE and writes BOM by default. Use \"),s(\"code\",[t._v(\"addBOM: false\")]),t._v(\" to override.\")])]),s(\"h2\",{attrs:{id:\"other-notes\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#other-notes\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Other notes\")]),s(\"p\",[t._v(\"When decoding, be sure to supply a Buffer to decode() method, otherwise \"),s(\"a\",{attrs:{href:\"https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"bad things usually happen\")]),t._v(\".\"),s(\"br\"),t._v(\"\\nUntranslatable characters are set to ï¿½ or ?. No transliteration is currently supported.\"),s(\"br\"),t._v(\"\\nNode versions 0.10.31 and 0.11.13 are buggy, don't use them (see #65, #77).\")]),s(\"h2\",{attrs:{id:\"testing\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#testing\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Testing\")]),s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[t._v(\"$ \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"git\")]),t._v(\" clone git@github.com:ashtuchkin/iconv-lite.git\\n$ \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"cd\")]),t._v(\" iconv-lite\\n$ \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"npm\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"install\")]),t._v(\"\\n$ \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"npm\")]),t._v(\" \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"test\")]),t._v(\"\\n    \\n$ \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# To view performance:\")]),t._v(\"\\n$ node test/performance.js\\n\\n$ \"),s(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"# To view test coverage:\")]),t._v(\"\\n$ \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"npm\")]),t._v(\" run coverage\\n$ \"),s(\"span\",{attrs:{class:\"token function\"}},[t._v(\"open\")]),t._v(\" coverage/lcov-report/index.html\\n\")])]),s(\"h2\",{attrs:{id:\"adoption\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#adoption\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Adoption\")]),s(\"p\",[s(\"a\",{attrs:{href:\"https://nodei.co/npm/iconv-lite/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://nodei.co/npm-dl/iconv-lite.png\",alt:\"NPM\"}})]),s(\"a\",{attrs:{href:\"https://www.codeship.com/projects/29053\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s(\"img\",{attrs:{src:\"https://www.codeship.com/projects/81670840-fa72-0131-4520-4a01a6c01acc/status\",alt:\"Codeship Status for ashtuchkin/iconv-lite\"}})])])])}],!1,null,null,null);n.default=e.exports}}]);","extractedComments":[]}